(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var rd={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function AA(){if(F_)return al;F_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return al.Fragment=t,al.jsx=n,al.jsxs=n,al}var Q_;function SA(){return Q_||(Q_=1,rd.exports=AA()),rd.exports}var Kt=SA(),sd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function bA(){if(K_)return At;K_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function U(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Z={};function $(D,X,ot){this.props=D,this.context=X,this.refs=Z,this.updater=ot||q}$.prototype.isReactComponent={},$.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function it(){}it.prototype=$.prototype;function lt(D,X,ot){this.props=D,this.context=X,this.refs=Z,this.updater=ot||q}var gt=lt.prototype=new it;gt.constructor=lt,H(gt,$.prototype),gt.isPureReactComponent=!0;var Nt=Array.isArray,pt={H:null,A:null,T:null,S:null},Rt=Object.prototype.hasOwnProperty;function M(D,X,ot,tt,et,St){return ot=St.ref,{$$typeof:s,type:D,key:X,ref:ot!==void 0?ot:null,props:St}}function w(D,X){return M(D.type,X,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function I(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return X[ot]})}var V=/\/+/g;function L(D,X){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):X.toString(36)}function R(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,X,ot,tt,et){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case s:case t:Tt=!0;break;case A:return Tt=D._init,ce(Tt(D._payload),X,ot,tt,et)}}if(Tt)return et=et(D),Tt=tt===""?"."+L(D,0):tt,Nt(et)?(ot="",Tt!=null&&(ot=Tt.replace(V,"$&/")+"/"),ce(et,X,ot,"",function(ne){return ne})):et!=null&&(S(et)&&(et=w(et,ot+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+Tt)),X.push(et)),1;Tt=0;var he=tt===""?".":tt+":";if(Nt(D))for(var Lt=0;Lt<D.length;Lt++)tt=D[Lt],St=he+L(tt,Lt),Tt+=ce(tt,X,ot,St,et);else if(Lt=U(D),typeof Lt=="function")for(D=Lt.call(D),Lt=0;!(tt=D.next()).done;)tt=tt.value,St=he+L(tt,Lt++),Tt+=ce(tt,X,ot,St,et);else if(St==="object"){if(typeof D.then=="function")return ce(_e(D),X,ot,tt,et);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function J(D,X,ot){if(D==null)return D;var tt=[],et=0;return ce(D,tt,"","",function(St){return X.call(ot,St,et++)}),tt}function dt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function qt(){}return At.Children={map:J,forEach:function(D,X,ot){J(D,function(){X.apply(this,arguments)},ot)},count:function(D){var X=0;return J(D,function(){X++}),X},toArray:function(D){return J(D,function(X){return X})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=$,At.Fragment=n,At.Profiler=l,At.PureComponent=lt,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,X,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=H({},D.props),et=D.key,St=void 0;if(X!=null)for(Tt in X.ref!==void 0&&(St=void 0),X.key!==void 0&&(et=""+X.key),X)!Rt.call(X,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&X.ref===void 0||(tt[Tt]=X[Tt]);var Tt=arguments.length-2;if(Tt===1)tt.children=ot;else if(1<Tt){for(var he=Array(Tt),Lt=0;Lt<Tt;Lt++)he[Lt]=arguments[Lt+2];tt.children=he}return M(D.type,et,void 0,void 0,St,tt)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,X,ot){var tt,et={},St=null;if(X!=null)for(tt in X.key!==void 0&&(St=""+X.key),X)Rt.call(X,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=X[tt]);var Tt=arguments.length-2;if(Tt===1)et.children=ot;else if(1<Tt){for(var he=Array(Tt),Lt=0;Lt<Tt;Lt++)he[Lt]=arguments[Lt+2];et.children=he}if(D&&D.defaultProps)for(tt in Tt=D.defaultProps,Tt)et[tt]===void 0&&(et[tt]=Tt[tt]);return M(D,St,void 0,void 0,null,et)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=S,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:dt}},At.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},At.startTransition=function(D){var X=pt.T,ot={};pt.T=ot;try{var tt=D(),et=pt.S;et!==null&&et(ot,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(qt,ct)}catch(St){ct(St)}finally{pt.T=X}},At.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},At.use=function(D){return pt.H.use(D)},At.useActionState=function(D,X,ot){return pt.H.useActionState(D,X,ot)},At.useCallback=function(D,X){return pt.H.useCallback(D,X)},At.useContext=function(D){return pt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,X){return pt.H.useDeferredValue(D,X)},At.useEffect=function(D,X){return pt.H.useEffect(D,X)},At.useId=function(){return pt.H.useId()},At.useImperativeHandle=function(D,X,ot){return pt.H.useImperativeHandle(D,X,ot)},At.useInsertionEffect=function(D,X){return pt.H.useInsertionEffect(D,X)},At.useLayoutEffect=function(D,X){return pt.H.useLayoutEffect(D,X)},At.useMemo=function(D,X){return pt.H.useMemo(D,X)},At.useOptimistic=function(D,X){return pt.H.useOptimistic(D,X)},At.useReducer=function(D,X,ot){return pt.H.useReducer(D,X,ot)},At.useRef=function(D){return pt.H.useRef(D)},At.useState=function(D){return pt.H.useState(D)},At.useSyncExternalStore=function(D,X,ot){return pt.H.useSyncExternalStore(D,X,ot)},At.useTransition=function(){return pt.H.useTransition()},At.version="19.0.0",At}var Y_;function Kd(){return Y_||(Y_=1,sd.exports=bA()),sd.exports}var Is=Kd(),ad={exports:{}},ol={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function wA(){return X_||(X_=1,function(s){function t(J,dt){var ct=J.length;J.push(dt);t:for(;0<ct;){var qt=ct-1>>>1,D=J[qt];if(0<l(D,dt))J[qt]=dt,J[ct]=D,ct=qt;else break t}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var dt=J[0],ct=J.pop();if(ct!==dt){J[0]=ct;t:for(var qt=0,D=J.length,X=D>>>1;qt<X;){var ot=2*(qt+1)-1,tt=J[ot],et=ot+1,St=J[et];if(0>l(tt,ct))et<D&&0>l(St,tt)?(J[qt]=St,J[et]=ct,qt=et):(J[qt]=tt,J[ot]=ct,qt=ot);else if(et<D&&0>l(St,ct))J[qt]=St,J[et]=ct,qt=et;else break t}}return dt}function l(J,dt){var ct=J.sortIndex-dt.sortIndex;return ct!==0?ct:J.id-dt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,C=null,U=3,q=!1,H=!1,Z=!1,$=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function gt(J){for(var dt=n(v);dt!==null;){if(dt.callback===null)r(v);else if(dt.startTime<=J)r(v),dt.sortIndex=dt.expirationTime,t(p,dt);else break;dt=n(v)}}function Nt(J){if(Z=!1,gt(J),!H)if(n(p)!==null)H=!0,_e();else{var dt=n(v);dt!==null&&ce(Nt,dt.startTime-J)}}var pt=!1,Rt=-1,M=5,w=-1;function S(){return!(s.unstable_now()-w<M)}function I(){if(pt){var J=s.unstable_now();w=J;var dt=!0;try{t:{H=!1,Z&&(Z=!1,it(Rt),Rt=-1),q=!0;var ct=U;try{e:{for(gt(J),C=n(p);C!==null&&!(C.expirationTime>J&&S());){var qt=C.callback;if(typeof qt=="function"){C.callback=null,U=C.priorityLevel;var D=qt(C.expirationTime<=J);if(J=s.unstable_now(),typeof D=="function"){C.callback=D,gt(J),dt=!0;break e}C===n(p)&&r(p),gt(J)}else r(p);C=n(p)}if(C!==null)dt=!0;else{var X=n(v);X!==null&&ce(Nt,X.startTime-J),dt=!1}}break t}finally{C=null,U=ct,q=!1}dt=void 0}}finally{dt?V():pt=!1}}}var V;if(typeof lt=="function")V=function(){lt(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=I,V=function(){R.postMessage(null)}}else V=function(){$(I,0)};function _e(){pt||(pt=!0,V())}function ce(J,dt){Rt=$(function(){J(s.unstable_now())},dt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){H||q||(H=!0,_e())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(J){switch(U){case 1:case 2:case 3:var dt=3;break;default:dt=U}var ct=U;U=dt;try{return J()}finally{U=ct}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,dt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ct=U;U=J;try{return dt()}finally{U=ct}},s.unstable_scheduleCallback=function(J,dt,ct){var qt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?qt+ct:qt):ct=qt,J){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,J={id:A++,callback:dt,priorityLevel:J,startTime:ct,expirationTime:D,sortIndex:-1},ct>qt?(J.sortIndex=ct,t(v,J),n(p)===null&&J===n(v)&&(Z?(it(Rt),Rt=-1):Z=!0,ce(Nt,ct-qt))):(J.sortIndex=D,t(p,J),H||q||(H=!0,_e())),J},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(J){var dt=U;return function(){var ct=U;U=dt;try{return J.apply(this,arguments)}finally{U=ct}}}}(ld)),ld}var $_;function RA(){return $_||($_=1,od.exports=wA()),od.exports}var ud={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function IA(){if(Z_)return je;Z_=1;var s=Kd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},je.flushSync=function(p){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=v,r.p=A,r.d.f()}},je.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},je.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},je.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:U,fetchPriority:q}):A==="script"&&r.d.X(p,{crossOrigin:C,integrity:U,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},je.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);r.d.L(p,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},je.requestFormReset=function(p){r.d.r(p)},je.unstable_batchedUpdates=function(p,v){return p(v)},je.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var W_;function CA(){if(W_)return ud.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ud.exports=IA(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function DA(){if(J_)return ol;J_=1;var s=RA(),t=Kd(),n=CA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),gt=Symbol.for("react.offscreen"),Nt=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function Rt(e){return e===null||typeof e!="object"?null:(e=pt&&e[pt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case v:return"StrictMode";case Z:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case H:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case it:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case lt:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,L;function R(e){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+L}var _e=!1;function ce(e,i){if(!e||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===N.length)for(o=b.length-1,h=N.length-1;1<=o&&0<=h&&b[o]!==N[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==N[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==N[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function J(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function dt(e){try{var i="";do i+=J(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ct(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function qt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(ct(e)!==e)throw Error(r(188))}function X(e){var i=e.alternate;if(!i){if(i=ct(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return D(h),e;if(f===o)return D(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ot(e),i!==null)return i;e=e.sibling}return null}var tt=Array.isArray,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Tt=[],he=-1;function Lt(e){return{current:e}}function ne(e){0>he||(e.current=Tt[he],Tt[he]=null,he--)}function Gt(e,i){he++,Tt[he]=e.current,e.current=i}var Ye=Lt(null),ci=Lt(null),mn=Lt(null),Ki=Lt(null);function Yi(e,i){switch(Gt(mn,i),Gt(ci,e),Gt(Ye,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?E_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=E_(e),i=T_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Ye),Gt(Ye,i)}function hi(){ne(Ye),ne(ci),ne(mn)}function to(e){e.memoizedState!==null&&Gt(Ki,e);var i=Ye.current,a=T_(i,e.type);i!==a&&(Gt(ci,e),Gt(Ye,a))}function Bs(e){ci.current===e&&(ne(Ye),ne(ci)),Ki.current===e&&(ne(Ki),el._currentValue=St)}var qs=Object.prototype.hasOwnProperty,Qr=s.unstable_scheduleCallback,Hs=s.unstable_cancelCallback,sh=s.unstable_shouldYield,eo=s.unstable_requestPaint,tn=s.unstable_now,xl=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,fi=s.unstable_NormalPriority,zl=s.unstable_LowPriority,no=s.unstable_IdlePriority,ah=s.log,Kr=s.unstable_setDisableYieldValue,Xi=null,qe=null;function io(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}function Hn(e){if(typeof ah=="function"&&Kr(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Xi,e)}catch{}}var Xe=Math.clz32?Math.clz32:ql,ro=Math.log,Bl=Math.LN2;function ql(e){return e>>>=0,e===0?32:31-(ro(e)/Bl|0)|0}var jn=128,$i=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gn(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Vn(a):(f&=E,f!==0?o=Vn(f):e||(y=E&~y,y!==0&&(o=Vn(y))))):(E=a&~h,E!==0?o=Vn(E):f!==0?o=Vn(f):e||(y=a&~y,y!==0&&(o=Vn(y)))),o===0?0:i!==0&&i!==o&&(i&h)===0&&(h=o&-o,y=i&-i,h>=y||h===32&&(y&4194176)!==0)?i:o}function Zi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function js(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var e=jn;return jn<<=1,(jn&4194176)===0&&(jn=128),e}function Wi(){var e=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),e}function Gs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hl(e,i,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-Xe(a),Y=1<<G;E[G]=0,b[G]=-1;var z=N[G];if(z!==null)for(N[G]=null,G=0;G<z.length;G++){var j=z[G];j!==null&&(j.lane&=-536870913)}a&=~Y}o!==0&&Ji(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function Ji(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Xe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function tr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Xe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function er(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Gn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Gn,ve="__reactProps$"+Gn,di="__reactContainer$"+Gn,Yr="__reactEvents$"+Gn,Fs="__reactListeners$"+Gn,Fn="__reactHandles$"+Gn,ao="__reactResources$"+Gn,nr="__reactMarker$"+Gn;function Xr(e){delete e[Ie],delete e[ve],delete e[Yr],delete e[Fs],delete e[Fn]}function Mn(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[di]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[Ie])return a;e=b_(e)}return i}e=a,a=e.parentNode}return null}function mi(e){if(e=e[Ie]||e[di]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ir(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function rr(e){var i=e[ao];return i||(i=e[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(e){e[nr]=!0}var oo=new Set,Qs={};function an(e,i){en(e,i),en(e+"Capture",i)}function en(e,i){for(Qs[e]=i,e=0;e<i.length;e++)oo.add(i[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},uo={};function Fl(e){return qs.call(uo,e)?!0:qs.call(lo,e)?!1:oh.test(e)?uo[e]=!0:(lo[e]=!0,!1)}function sr(e,i,a){if(Fl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ar(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function pn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ql(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lh(e){var i=Ql(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $r(e){e._valueTracker||(e._valueTracker=lh(e))}function co(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Ql(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gi=/[\n"\\]/g;function ie(e){return e.replace(gi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function or(e,i,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Ys(e,y,$e(i)):a!=null?Ys(e,y,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Zr(e,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Ys(e,i,a){i==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wr(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function lr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(tt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ho(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||uh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Kl(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&ho(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&ho(e,f,i[f])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(e){return hh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yn=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,_i=null;function yi(e){var i=mi(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(or(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ve]||null;if(!h)throw Error(r(90));or(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&co(o)}break t;case"textarea":Wr(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&xt(e,!!a.multiple,i,!1)}}}var mo=!1;function Yl(e,i,a){if(mo)return e(i,a);mo=!0;try{var o=e(i);return o}finally{if(mo=!1,(pi!==null||_i!==null)&&(zu(),pi&&(i=pi,e=_i,_i=pi=null,yi(i),e)))for(i=0;i<e.length;i++)yi(e[i])}}function Jr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var vn=!1;if(on)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{vn=!1}var Kn=null,ur=null,vi=null;function go(){if(vi)return vi;var e,i=ur,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function po(){return!1}function Ce(e){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:po,this.isPropagationStopped=po,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Ce(Ht),es=I({},Ht,{view:0,detail:0}),Xl=Ce(es),Zs,Ws,$n,ns=I({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Zs=e.screenX-$n.screenX,Ws=e.screenY-$n.screenY):Ws=Zs=0,$n=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),En=Ce(ns),$l=I({},ns,{dataTransfer:0}),fh=Ce($l),is=I({},es,{relatedTarget:0}),Js=Ce(is),_o=I({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Ce(_o),Zl=I({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=Ce(Zl),dh=I({},Ht,{data:0}),yo=Ce(dh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Jl[e])?!!i[e]:!1}function ss(){return vo}var tu=I({},es,{key:function(e){if(e.key){var i=rs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=Ce(tu),eu=I({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=Ce(eu),Ei=I({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),nu=Ce(Ei),iu=I({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Ce(iu),su=I({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Ce(su),Ze=I({},Ht,{newState:0,oldState:0}),au=Ce(Ze),ou=[9,13,27,32],Zn=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var m=on&&"TextEvent"in window&&!u,_=on&&(!Zn||u&&8<u&&11>=u),T=" ",P=!1;function B(e,i){switch(e){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ee(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(P=!0,T);case"textInput":return e=i.data,e===T&&P?null:e;default:return null}}function Ut(e,i){if(Mt)return e==="compositionend"||!Zn&&B(e,i)?(e=go(),vi=ur=Kn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ti(e,i,a,o){pi?_i?_i.push(o):_i=[o]:pi=o,i=Gu(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ue=null,Wn=null;function To(e){g_(e,0)}function lu(e){var i=ir(e);if(co(i))return e}function Gm(e,i){if(e==="change")return i}var Fm=!1;if(on){var mh;if(on){var gh="oninput"in document;if(!gh){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),gh=typeof Qm.oninput=="function"}mh=gh}else mh=!1;Fm=mh&&(!document.documentMode||9<document.documentMode)}function Km(){Ue&&(Ue.detachEvent("onpropertychange",Ym),Wn=Ue=null)}function Ym(e){if(e.propertyName==="value"&&lu(Wn)){var i=[];Ti(i,Wn,e,Xs(e)),Yl(To,i)}}function WT(e,i,a){e==="focusin"?(Km(),Ue=i,Wn=a,Ue.attachEvent("onpropertychange",Ym)):e==="focusout"&&Km()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(Wn)}function t0(e,i){if(e==="click")return lu(i)}function e0(e,i){if(e==="input"||e==="change")return lu(i)}function n0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:n0;function Ao(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!qs.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function Xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,i){var a=Xm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xm(a)}}function Zm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Zm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Wm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ks(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ks(e.document)}return i}function ph(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function i0(e,i){var a=Wm(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&Zm(i.ownerDocument.documentElement,i)){if(o!==null&&ph(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!a.extend&&f>o&&(h=o,o=f,f=h),h=$m(i,f);var y=$m(i,o);h&&y&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>o?(a.addRange(e),a.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var r0=on&&"documentMode"in document&&11>=document.documentMode,ra=null,_h=null,So=null,yh=!1;function Jm(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yh||ra==null||ra!==Ks(o)||(o=ra,"selectionStart"in o&&ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),So&&Ao(So,o)||(So=o,o=Gu(_h,"onSelect"),0<o.length&&(i=new $s("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ra)))}function as(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var sa={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},vh={},tg={};on&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function os(e){if(vh[e])return vh[e];if(!sa[e])return e;var i=sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return vh[e]=i[a];return e}var eg=os("animationend"),ng=os("animationiteration"),ig=os("animationstart"),s0=os("transitionrun"),a0=os("transitionstart"),o0=os("transitioncancel"),rg=os("transitionend"),sg=new Map,ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(e,i){sg.set(e,i),an(i,[e])}var Tn=[],aa=0,Eh=0;function uu(){for(var e=aa,i=Eh=aa=0;i<e;){var a=Tn[i];Tn[i++]=null;var o=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var f=Tn[i];if(Tn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&og(a,h,f)}}function cu(e,i,a,o){Tn[aa++]=e,Tn[aa++]=i,Tn[aa++]=a,Tn[aa++]=o,Eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Th(e,i,a,o){return cu(e,i,a,o),hu(e)}function cr(e,i){return cu(e,null,null,i),hu(e)}function og(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&i!==null&&e.tag===3&&(f=e.stateNode,h=31-Xe(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[i]:e.push(i),i.lane=a|536870912)}function hu(e){if(50<Yo)throw Yo=0,Cf=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var oa={},lg=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:dt(i)},lg.set(e,i),i)}return{value:e,source:i,stack:dt(i)}}var la=[],ua=0,fu=null,du=0,Sn=[],bn=0,ls=null,Ai=1,Si="";function us(e,i){la[ua++]=du,la[ua++]=fu,fu=e,du=i}function ug(e,i,a){Sn[bn++]=Ai,Sn[bn++]=Si,Sn[bn++]=ls,ls=e;var o=Ai;e=Si;var h=32-Xe(o)-1;o&=~(1<<h),a+=1;var f=32-Xe(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ai=1<<32-Xe(i)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function Ah(e){e.return!==null&&(us(e,1),ug(e,1,0))}function Sh(e){for(;e===fu;)fu=la[--ua],la[ua]=null,du=la[--ua],la[ua]=null;for(;e===ls;)ls=Sn[--bn],Sn[bn]=null,Si=Sn[--bn],Sn[bn]=null,Ai=Sn[--bn],Sn[bn]=null}var We=null,ke=null,zt=!1,kn=null,Jn=!1,bh=Error(r(519));function cs(e){var i=Error(r(418,""));throw Ro(An(i,e)),bh}function cg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ie]=e,i[ve]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<$o.length;a++)Vt($o[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Zr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$r(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),lr(i,o.value,o.defaultValue,o.children),$r(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||v_(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Fu),i=!0):i=!1,i||cs(e)}function hg(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:We=We.return}}function bo(e){if(e!==We)return!1;if(!zt)return hg(e),zt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ff(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ke&&cs(e),hg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ke=Ln(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ke=null}}else ke=We?Ln(e.stateNode.nextSibling):null;return!0}function wo(){ke=We=null,zt=!1}function Ro(e){kn===null?kn=[e]:kn.push(e)}var Io=Error(r(460)),fg=Error(r(474)),wh={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function mg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(mu,mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Io?Error(r(483)):e;default:if(typeof i.status=="string")i.then(mu,mu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Io?Error(r(483)):e}throw Co=i,Io}}var Co=null;function gg(){if(Co===null)throw Error(r(459));var e=Co;return Co=null,e}var ca=null,Do=0;function gu(e){var i=Do;return Do+=1,ca===null&&(ca=[]),mg(ca,e,i)}function Oo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function pu(e,i){throw i.$$typeof===c?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function pg(e){var i=e._init;return i(e._payload)}function _g(e){function i(k,O){if(e){var x=k.deletions;x===null?(k.deletions=[O],k.flags|=16):x.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Ar(k,O),k.index=0,k.sibling=null,k}function f(k,O,x){return k.index=x,e?(x=k.alternate,x!==null?(x=x.index,x<O?(k.flags|=33554434,O):x):(k.flags|=33554434,O)):(k.flags|=1048576,O)}function y(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function E(k,O,x,F){return O===null||O.tag!==6?(O=Ef(x,k.mode,F),O.return=k,O):(O=h(O,x),O.return=k,O)}function b(k,O,x,F){var rt=x.type;return rt===p?G(k,O,x.props.children,F,x.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===lt&&pg(rt)===O.type)?(O=h(O,x.props),Oo(O,x),O.return=k,O):(O=Uu(x.type,x.key,x.props,null,k.mode,F),Oo(O,x),O.return=k,O)}function N(k,O,x,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==x.containerInfo||O.stateNode.implementation!==x.implementation?(O=Tf(x,k.mode,F),O.return=k,O):(O=h(O,x.children||[]),O.return=k,O)}function G(k,O,x,F,rt){return O===null||O.tag!==7?(O=Es(x,k.mode,F,rt),O.return=k,O):(O=h(O,x),O.return=k,O)}function Y(k,O,x){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ef(""+O,k.mode,x),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return x=Uu(O.type,O.key,O.props,null,k.mode,x),Oo(x,O),x.return=k,x;case g:return O=Tf(O,k.mode,x),O.return=k,O;case lt:var F=O._init;return O=F(O._payload),Y(k,O,x)}if(tt(O)||Rt(O))return O=Es(O,k.mode,x,null),O.return=k,O;if(typeof O.then=="function")return Y(k,gu(O),x);if(O.$$typeof===q)return Y(k,Nu(k,O),x);pu(k,O)}return null}function z(k,O,x,F){var rt=O!==null?O.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return rt!==null?null:E(k,O,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case d:return x.key===rt?b(k,O,x,F):null;case g:return x.key===rt?N(k,O,x,F):null;case lt:return rt=x._init,x=rt(x._payload),z(k,O,x,F)}if(tt(x)||Rt(x))return rt!==null?null:G(k,O,x,F,null);if(typeof x.then=="function")return z(k,O,gu(x),F);if(x.$$typeof===q)return z(k,O,Nu(k,x),F);pu(k,x)}return null}function j(k,O,x,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(x)||null,E(O,k,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case d:return k=k.get(F.key===null?x:F.key)||null,b(O,k,F,rt);case g:return k=k.get(F.key===null?x:F.key)||null,N(O,k,F,rt);case lt:var It=F._init;return F=It(F._payload),j(k,O,x,F,rt)}if(tt(F)||Rt(F))return k=k.get(x)||null,G(O,k,F,rt,null);if(typeof F.then=="function")return j(k,O,x,gu(F),rt);if(F.$$typeof===q)return j(k,O,x,Nu(O,F),rt);pu(O,F)}return null}function at(k,O,x,F){for(var rt=null,It=null,ut=O,ft=O=0,Ve=null;ut!==null&&ft<x.length;ft++){ut.index>ft?(Ve=ut,ut=null):Ve=ut.sibling;var Bt=z(k,ut,x[ft],F);if(Bt===null){ut===null&&(ut=Ve);break}e&&ut&&Bt.alternate===null&&i(k,ut),O=f(Bt,O,ft),It===null?rt=Bt:It.sibling=Bt,It=Bt,ut=Ve}if(ft===x.length)return a(k,ut),zt&&us(k,ft),rt;if(ut===null){for(;ft<x.length;ft++)ut=Y(k,x[ft],F),ut!==null&&(O=f(ut,O,ft),It===null?rt=ut:It.sibling=ut,It=ut);return zt&&us(k,ft),rt}for(ut=o(ut);ft<x.length;ft++)Ve=j(ut,k,ft,x[ft],F),Ve!==null&&(e&&Ve.alternate!==null&&ut.delete(Ve.key===null?ft:Ve.key),O=f(Ve,O,ft),It===null?rt=Ve:It.sibling=Ve,It=Ve);return e&&ut.forEach(function(Dr){return i(k,Dr)}),zt&&us(k,ft),rt}function vt(k,O,x,F){if(x==null)throw Error(r(151));for(var rt=null,It=null,ut=O,ft=O=0,Ve=null,Bt=x.next();ut!==null&&!Bt.done;ft++,Bt=x.next()){ut.index>ft?(Ve=ut,ut=null):Ve=ut.sibling;var Dr=z(k,ut,Bt.value,F);if(Dr===null){ut===null&&(ut=Ve);break}e&&ut&&Dr.alternate===null&&i(k,ut),O=f(Dr,O,ft),It===null?rt=Dr:It.sibling=Dr,It=Dr,ut=Ve}if(Bt.done)return a(k,ut),zt&&us(k,ft),rt;if(ut===null){for(;!Bt.done;ft++,Bt=x.next())Bt=Y(k,Bt.value,F),Bt!==null&&(O=f(Bt,O,ft),It===null?rt=Bt:It.sibling=Bt,It=Bt);return zt&&us(k,ft),rt}for(ut=o(ut);!Bt.done;ft++,Bt=x.next())Bt=j(ut,k,ft,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?ft:Bt.key),O=f(Bt,O,ft),It===null?rt=Bt:It.sibling=Bt,It=Bt);return e&&ut.forEach(function(TA){return i(k,TA)}),zt&&us(k,ft),rt}function ae(k,O,x,F){if(typeof x=="object"&&x!==null&&x.type===p&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case d:t:{for(var rt=x.key;O!==null;){if(O.key===rt){if(rt=x.type,rt===p){if(O.tag===7){a(k,O.sibling),F=h(O,x.props.children),F.return=k,k=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===lt&&pg(rt)===O.type){a(k,O.sibling),F=h(O,x.props),Oo(F,x),F.return=k,k=F;break t}a(k,O);break}else i(k,O);O=O.sibling}x.type===p?(F=Es(x.props.children,k.mode,F,x.key),F.return=k,k=F):(F=Uu(x.type,x.key,x.props,null,k.mode,F),Oo(F,x),F.return=k,k=F)}return y(k);case g:t:{for(rt=x.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===x.containerInfo&&O.stateNode.implementation===x.implementation){a(k,O.sibling),F=h(O,x.children||[]),F.return=k,k=F;break t}else{a(k,O);break}else i(k,O);O=O.sibling}F=Tf(x,k.mode,F),F.return=k,k=F}return y(k);case lt:return rt=x._init,x=rt(x._payload),ae(k,O,x,F)}if(tt(x))return at(k,O,x,F);if(Rt(x)){if(rt=Rt(x),typeof rt!="function")throw Error(r(150));return x=rt.call(x),vt(k,O,x,F)}if(typeof x.then=="function")return ae(k,O,gu(x),F);if(x.$$typeof===q)return ae(k,O,Nu(k,x),F);pu(k,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,O!==null&&O.tag===6?(a(k,O.sibling),F=h(O,x),F.return=k,k=F):(a(k,O),F=Ef(x,k.mode,F),F.return=k,k=F),y(k)):a(k,O)}return function(k,O,x,F){try{Do=0;var rt=ae(k,O,x,F);return ca=null,rt}catch(ut){if(ut===Io)throw ut;var It=Cn(29,ut,null,k.mode);return It.lanes=F,It.return=k,It}finally{}}}var hs=_g(!0),yg=_g(!1),ha=Lt(null),_u=Lt(0);function vg(e,i){e=Ui,Gt(_u,e),Gt(ha,i),Ui=e|i.baseLanes}function Rh(){Gt(_u,Ui),Gt(ha,ha.current)}function Ih(){Ui=_u.current,ne(ha),ne(_u)}var wn=Lt(null),ti=null;function hr(e){var i=e.alternate;Gt(Ae,Ae.current&1),Gt(wn,e),ti===null&&(i===null||ha.current!==null||i.memoizedState!==null)&&(ti=e)}function Eg(e){if(e.tag===22){if(Gt(Ae,Ae.current),Gt(wn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else fr()}function fr(){Gt(Ae,Ae.current),Gt(wn,wn.current)}function bi(e){ne(wn),ti===e&&(ti=null),ne(Ae)}var Ae=Lt(0);function yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var l0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},u0=s.unstable_scheduleCallback,c0=s.unstable_NormalPriority,Se={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new l0,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&u0(c0,function(){e.controller.abort()})}var Vo=null,Dh=0,fa=0,da=null;function h0(e,i){if(Vo===null){var a=Vo=[];Dh=0,fa=Pf(),da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Dh++,i.then(Tg,Tg),i}function Tg(){if(--Dh===0&&Vo!==null){da!==null&&(da.status="fulfilled");var e=Vo;Vo=null,fa=0,da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function f0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ag=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&h0(e,i),Ag!==null&&Ag(e,i)};var fs=Lt(null);function Oh(){var e=fs.current;return e!==null?e:Xt.pooledCache}function vu(e,i){i===null?Gt(fs,fs.current):Gt(fs,i.pool)}function Sg(){var e=Oh();return e===null?null:{parent:Se._currentValue,pool:e}}var dr=0,bt=null,Ft=null,fe=null,Eu=!1,ma=!1,ds=!1,Tu=0,Mo=0,ga=null,d0=0;function le(){throw Error(r(321))}function Nh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function Vh(e,i,a,o,h,f){return dr=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?ms:mr,ds=!1,f=a(o,h),ds=!1,ma&&(f=wg(i,a,o,h)),bg(e),f}function bg(e){S.H=ei;var i=Ft!==null&&Ft.next!==null;if(dr=0,fe=Ft=bt=null,Eu=!1,Mo=0,ga=null,i)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&Ou(e)&&(Oe=!0))}function wg(e,i,a,o){bt=e;var h=0;do{if(ma&&(ga=null),Mo=0,ma=!1,25<=h)throw Error(r(301));if(h+=1,fe=Ft=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=gs,f=i(a,o)}while(ma);return f}function m0(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Uo(i):i,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(bt.flags|=1024),i}function Mh(){var e=Tu!==0;return Tu=0,e}function Uh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kh(e){if(Eu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Eu=!1}dr=0,fe=Ft=bt=null,ma=!1,Mo=Tu=0,ga=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?bt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Ft===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var i=fe===null?bt.memoizedState:fe.next;if(i!==null)fe=i,Ft=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},fe===null?bt.memoizedState=fe=e:fe=fe.next=e}return fe}var Au;Au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Uo(e){var i=Mo;return Mo+=1,ga===null&&(ga=[]),e=mg(ga,e,i),i=bt,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ms:mr),e}function Su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uo(e);if(e.$$typeof===q)return He(e)}throw Error(r(438,String(e)))}function Ph(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Au(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=Nt;return i.index++,a}function wi(e,i){return typeof i=="function"?i(e):i}function bu(e){var i=de();return Lh(i,Ft,e)}function Lh(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=y=null,b=null,N=i,G=!1;do{var Y=N.lane&-536870913;if(Y!==N.lane?(kt&Y)===Y:(dr&Y)===Y){var z=N.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Y===fa&&(G=!0);else if((dr&z)===z){N=N.next,z===fa&&(G=!0);continue}else Y={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,bt.lanes|=z,Sr|=z;Y=N.action,ds&&a(f,Y),f=N.hasEagerState?N.eagerState:a(f,Y)}else z={lane:Y,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=z,y=f):b=b.next=z,bt.lanes|=Y,Sr|=Y;N=N.next}while(N!==null&&N!==i);if(b===null?y=f:b.next=E,!ln(f,e.memoizedState)&&(Oe=!0,G&&(a=da,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function xh(e){var i=de(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);ln(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Rg(e,i,a){var o=bt,h=de(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!ln((Ft||h).memoizedState,a);if(y&&(h.memoizedState=a,Oe=!0),h=h.queue,qh(Dg.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,pa(9,Cg.bind(null,o,h,a,i),{destroy:void 0},null),Xt===null)throw Error(r(349));f||(dr&60)!==0||Ig(o,i,a)}return a}function Ig(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=Au(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Cg(e,i,a,o){i.value=a,i.getSnapshot=o,Og(i)&&Ng(e)}function Dg(e,i,a){return a(function(){Og(i)&&Ng(e)})}function Og(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function Ng(e){var i=cr(e,2);i!==null&&Je(i,e,2)}function zh(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),ds){Hn(!0);try{a()}finally{Hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},i}function Vg(e,i,a,o){return e.baseState=a,Lh(e,Ft,typeof o=="function"?o:wi)}function g0(e,i,a,o,h){if(Iu(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Mg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Mg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=S.T,y={};S.T=y;try{var E=a(h,o),b=S.S;b!==null&&b(y,E),Ug(e,i,E)}catch(N){Bh(e,i,N)}finally{S.T=f}}else try{f=a(h,o),Ug(e,i,f)}catch(N){Bh(e,i,N)}}function Ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){kg(e,i,o)},function(o){return Bh(e,i,o)}):kg(e,i,a)}function kg(e,i,a){i.status="fulfilled",i.value=a,Pg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Mg(e,a)))}function Bh(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Pg(i),i=i.next;while(i!==o)}e.action=null}function Pg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Lg(e,i){return i}function xg(e,i){if(zt){var a=Xt.formState;if(a!==null){t:{var o=bt;if(zt){if(ke){e:{for(var h=ke,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ke=Ln(h.nextSibling),o=h.data==="F!";break t}}cs(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:i},a.queue=o,a=np.bind(null,bt,o),o.dispatch=a,o=zh(!1),f=Qh.bind(null,bt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=g0.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function zg(e){var i=de();return Bg(i,Ft,e)}function Bg(e,i,a){i=Lh(e,i,Lg)[0],e=bu(wi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Uo(i):i;var o=de(),h=o.queue,f=h.dispatch;return a!==o.memoizedState&&(bt.flags|=2048,pa(9,p0.bind(null,h,a),{destroy:void 0},null)),[i,f,e]}function p0(e,i){e.action=i}function qg(e){var i=de(),a=Ft;if(a!==null)return Bg(i,a,e);de(),i=i.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function pa(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=bt.updateQueue,i===null&&(i=Au(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Hg(){return de().memoizedState}function wu(e,i,a,o){var h=nn();bt.flags|=e,h.memoizedState=pa(1|i,a,{destroy:void 0},o===void 0?null:o)}function Ru(e,i,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Ft!==null&&o!==null&&Nh(o,Ft.memoizedState.deps)?h.memoizedState=pa(i,a,f,o):(bt.flags|=e,h.memoizedState=pa(1|i,a,f,o))}function jg(e,i){wu(8390656,8,e,i)}function qh(e,i){Ru(2048,8,e,i)}function Gg(e,i){return Ru(4,2,e,i)}function Fg(e,i){return Ru(4,4,e,i)}function Qg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Kg(e,i,a){a=a!=null?a.concat([e]):null,Ru(4,4,Qg.bind(null,i,e),a)}function Hh(){}function Yg(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Nh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Xg(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Nh(i,o[1]))return o[0];if(o=e(),ds){Hn(!0);try{e()}finally{Hn(!1)}}return a.memoizedState=[o,i],o}function jh(e,i,a){return a===void 0||(dr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Zp(),bt.lanes|=e,Sr|=e,a)}function $g(e,i,a,o){return ln(a,i)?a:ha.current!==null?(e=jh(e,a,o),ln(e,i)||(Oe=!0),e):(dr&42)===0?(Oe=!0,e.memoizedState=a):(e=Zp(),bt.lanes|=e,Sr|=e,i)}function Zg(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,Qh(e,!1,i,a);try{var b=h(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=f0(b,o);ko(e,i,G,fn(e))}else ko(e,i,o,fn(e))}catch(Y){ko(e,i,{then:function(){},status:"rejected",reason:Y},fn())}finally{et.p=f,S.T=y}}function _0(){}function Gh(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=Wg(e).queue;Zg(e,h,i,St,a===null?_0:function(){return Jg(e),a(o)})}function Wg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:St},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Jg(e){var i=Wg(e).next.queue;ko(e,i,{},fn())}function Fh(){return He(el)}function tp(){return de().memoizedState}function ep(){return de().memoizedState}function y0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=_r(a);var o=yr(i,e,a);o!==null&&(Je(o,i,a),xo(o,i,a)),i={cache:Ch()},e.payload=i;return}i=i.return}}function v0(e,i,a){var o=fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(e)?ip(i,a):(a=Th(e,i,a,o),a!==null&&(Je(a,e,o),rp(a,i,o)))}function np(e,i,a){var o=fn();ko(e,i,a,o)}function ko(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))ip(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,y))return cu(e,i,h,0),Xt===null&&uu(),!1}catch{}finally{}if(a=Th(e,i,h,o),a!==null)return Je(a,e,o),rp(a,i,o),!0}return!1}function Qh(e,i,a,o){if(o={lane:2,revertLane:Pf(),action:o,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(i)throw Error(r(479))}else i=Th(e,a,o,2),i!==null&&Je(i,e,2)}function Iu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function ip(e,i){ma=Eu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function rp(e,i,a){if((a&4194176)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,tr(e,a)}}var ei={readContext:He,use:Su,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ei.useCacheRefresh=le,ei.useMemoCache=le,ei.useHostTransitionStatus=le,ei.useFormState=le,ei.useActionState=le,ei.useOptimistic=le;var ms={readContext:He,use:Su,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:jg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,wu(4194308,4,Qg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return wu(4194308,4,e,i)},useInsertionEffect:function(e,i){wu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(ds){Hn(!0);try{e()}finally{Hn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(ds){Hn(!0);try{a(i)}finally{Hn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=v0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=zh(e);var i=e.queue,a=np.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hh,useDeferredValue:function(e,i){var a=nn();return jh(a,e,i)},useTransition:function(){var e=zh(!1);return e=Zg.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=nn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Xt===null)throw Error(r(349));(kt&60)!==0||Ig(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,jg(Dg.bind(null,o,f,e),[e]),o.flags|=2048,pa(9,Cg.bind(null,o,f,a,i),{destroy:void 0},null),a},useId:function(){var e=nn(),i=Xt.identifierPrefix;if(zt){var a=Si,o=Ai;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Tu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=d0++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return nn().memoizedState=y0.bind(null,bt)}};ms.useMemoCache=Ph,ms.useHostTransitionStatus=Fh,ms.useFormState=xg,ms.useActionState=xg,ms.useOptimistic=function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qh.bind(null,bt,!0,a),a.dispatch=i,[e,i]};var mr={readContext:He,use:Su,useCallback:Yg,useContext:He,useEffect:qh,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Fg,useMemo:Xg,useReducer:bu,useRef:Hg,useState:function(){return bu(wi)},useDebugValue:Hh,useDeferredValue:function(e,i){var a=de();return $g(a,Ft.memoizedState,e,i)},useTransition:function(){var e=bu(wi)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Uo(e),i]},useSyncExternalStore:Rg,useId:tp};mr.useCacheRefresh=ep,mr.useMemoCache=Ph,mr.useHostTransitionStatus=Fh,mr.useFormState=zg,mr.useActionState=zg,mr.useOptimistic=function(e,i){var a=de();return Vg(a,Ft,e,i)};var gs={readContext:He,use:Su,useCallback:Yg,useContext:He,useEffect:qh,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Fg,useMemo:Xg,useReducer:xh,useRef:Hg,useState:function(){return xh(wi)},useDebugValue:Hh,useDeferredValue:function(e,i){var a=de();return Ft===null?jh(a,e,i):$g(a,Ft.memoizedState,e,i)},useTransition:function(){var e=xh(wi)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Uo(e),i]},useSyncExternalStore:Rg,useId:tp};gs.useCacheRefresh=ep,gs.useMemoCache=Ph,gs.useHostTransitionStatus=Fh,gs.useFormState=qg,gs.useActionState=qg,gs.useOptimistic=function(e,i){var a=de();return Ft!==null?Vg(a,Ft,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Kh(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:I({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yh={isMounted:function(e){return(e=e._reactInternals)?ct(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=fn(),h=_r(o);h.payload=i,a!=null&&(h.callback=a),i=yr(e,h,o),i!==null&&(Je(i,e,o),xo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=fn(),h=_r(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yr(e,h,o),i!==null&&(Je(i,e,o),xo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),o=_r(a);o.tag=2,i!=null&&(o.callback=i),i=yr(e,o,a),i!==null&&(Je(i,e,a),xo(i,e,a))}};function sp(e,i,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!Ao(a,o)||!Ao(h,f):!0}function ap(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Yh.enqueueReplaceState(i,i.state,null)}function ps(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function op(e){Cu(e)}function lp(e){console.error(e)}function up(e){Cu(e)}function Du(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function cp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xh(e,i,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(e,i)},a}function hp(e){return e=_r(e),e.tag=3,e}function fp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){cp(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){cp(i,a,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function E0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Lo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ti===null?Nf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Mf(e,o,h)),!1;case 22:return a.flags|=65536,o===wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Mf(e,o,h)),!1}throw Error(r(435,a.tag))}return Mf(e,o,h),Nf(),!1}if(zt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==bh&&(e=Error(r(422),{cause:o}),Ro(An(e,a)))):(o!==bh&&(i=Error(r(423),{cause:o}),Ro(An(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=An(o,a),h=Xh(e.stateNode,o,h),hf(e,h),se!==4&&(se=2)),!1;var f=Error(r(520),{cause:o});if(f=An(f,a),Qo===null?Qo=[f]:Qo.push(f),se!==4&&(se=2),i===null)return!0;o=An(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xh(a.stateNode,o,e),hf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hp(h),fp(h,e,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var dp=Error(r(461)),Oe=!1;function Pe(e,i,a,o){i.child=e===null?yg(i,null,a,o):hs(i,e.child,a,o)}function mp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return ys(i),o=Vh(e,i,a,y,f,h),E=Mh(),e!==null&&!Oe?(Uh(e,i,h),Ri(e,i,h)):(zt&&E&&Ah(i),i.flags|=1,Pe(e,i,o,h),i.child)}function gp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!vf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,pp(e,i,f,o,h)):(e=Uu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!sf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(y,o)&&e.ref===i.ref)return Ri(e,i,h)}return i.flags|=1,e=Ar(f,o),e.ref=i.ref,e.return=i,i.child=e}function pp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ao(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,sf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Ri(e,i,h)}return $h(e,i,a,o,h)}function _p(e,i,a){var o=i.pendingProps,h=o.children,f=(i.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(Po(e,i),o.mode==="hidden"||f){if((i.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return yp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(i,y!==null?y.cachePool:null),y!==null?vg(i,y):Rh(),Eg(i);else return i.lanes=i.childLanes=536870912,yp(e,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(vu(i,y.cachePool),vg(i,y),fr(),i.memoizedState=null):(e!==null&&vu(i,null),Rh(),fr());return Pe(e,i,h,a),i.child}function yp(e,i,a,o){var h=Oh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&vu(i,null),Rh(),Eg(i),e!==null&&Lo(e,i,o,!0),null}function Po(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function $h(e,i,a,o,h){return ys(i),a=Vh(e,i,a,o,void 0,h),o=Mh(),e!==null&&!Oe?(Uh(e,i,h),Ri(e,i,h)):(zt&&o&&Ah(i),i.flags|=1,Pe(e,i,a,h),i.child)}function vp(e,i,a,o,h,f){return ys(i),i.updateQueue=null,a=wg(i,o,a,h),bg(e),o=Mh(),e!==null&&!Oe?(Uh(e,i,f),Ri(e,i,f)):(zt&&o&&Ah(i),i.flags|=1,Pe(e,i,a,f),i.child)}function Ep(e,i,a,o,h){if(ys(i),i.stateNode===null){var f=oa,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yh,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},uf(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):oa,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Kh(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Yh.enqueueReplaceState(f,f.state,null),Bo(i,o,f,h),zo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=ps(a,E);f.props=b;var N=f.context,G=a.contextType;y=oa,typeof G=="object"&&G!==null&&(y=He(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&ap(i,f,o,y),pr=!1;var z=i.memoizedState;f.state=z,Bo(i,o,f,h),zo(),N=i.memoizedState,E||z!==N||pr?(typeof Y=="function"&&(Kh(i,a,Y,o),N=i.memoizedState),(b=pr||sp(i,a,b,o,z,N,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=N),f.props=o,f.state=N,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,cf(e,i),y=i.memoizedProps,G=ps(a,y),f.props=G,Y=i.pendingProps,z=f.context,N=a.contextType,b=oa,typeof N=="object"&&N!==null&&(b=He(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==b)&&ap(i,f,o,b),pr=!1,z=i.memoizedState,f.state=z,Bo(i,o,f,h),zo();var j=i.memoizedState;y!==Y||z!==j||pr||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Kh(i,a,E,o),j=i.memoizedState),(G=pr||sp(i,a,G,o,z,j,b)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Po(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=hs(i,e.child,null,h),i.child=hs(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ri(e,i,h),e}function Tp(e,i,a,o){return wo(),i.flags|=256,Pe(e,i,a,o),i.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function Wh(e){return{baseLanes:e,cachePool:Sg()}}function Jh(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function Ap(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?hr(i):fr(),zt){var E=ke,b;if(b=E){t:{for(b=E,E=Jn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:ls!==null?{id:Ai,overflow:Si}:null,retryLane:536870912},b=Cn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,ke=null,b=!0):b=!1}b||cs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;bi(i)}return E=o.children,o=o.fallback,h?(fr(),h=i.mode,E=ef({mode:"hidden",children:E},h),o=Es(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Wh(a),h.childLanes=Jh(e,y,a),i.memoizedState=Zh,o):(hr(i),tf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(hr(i),i.flags&=-257,i=nf(e,i,a)):i.memoizedState!==null?(fr(),i.child=e.child,i.flags|=128,i=null):(fr(),h=o.fallback,E=i.mode,o=ef({mode:"visible",children:o.children},E),h=Es(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,hs(i,e.child,null,a),o=i.child,o.memoizedState=Wh(a),o.childLanes=Jh(e,y,a),i.memoizedState=Zh,i=h);else if(hr(i),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,o=Error(r(419)),o.stack="",o.digest=y,Ro({value:o,source:null,stack:null}),i=nf(e,i,a)}else if(Oe||Lo(e,i,a,!1),y=(a&e.childLanes)!==0,Oe||y){if(y=Xt,y!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,cr(e,o),Je(y,e,o),dp}E.data==="$?"||Nf(),i=nf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=k0.bind(null,e),E._reactRetry=i,i=null):(e=b.treeContext,ke=Ln(E.nextSibling),We=i,zt=!0,kn=null,Jn=!1,e!==null&&(Sn[bn++]=Ai,Sn[bn++]=Si,Sn[bn++]=ls,Ai=e.id,Si=e.overflow,ls=i),i=tf(i,o.children),i.flags|=4096);return i}return h?(fr(),h=o.fallback,E=i.mode,b=e.child,N=b.sibling,o=Ar(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,N!==null?h=Ar(N,h):(h=Es(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Wh(a):(b=E.cachePool,b!==null?(N=Se._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=Sg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Jh(e,y,a),i.memoizedState=Zh,o):(hr(i),a=e.child,e=a.sibling,a=Ar(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function tf(e,i){return i=ef({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ef(e,i){return Yp(e,i,0,null)}function nf(e,i,a){return hs(i,e.child,null,a),e=tf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Sp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),of(e.return,i,a)}function rf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function bp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sp(e,a,i);else if(e.tag===19)Sp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Gt(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rf(i,!0,a,null,f);break;case"together":rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ri(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Lo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Ar(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function T0(e,i,a){switch(i.tag){case 3:Yi(i,i.stateNode.containerInfo),gr(i,Se,e.memoizedState.cache),wo();break;case 27:case 5:to(i);break;case 4:Yi(i,i.stateNode.containerInfo);break;case 10:gr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ap(e,i,a):(hr(i),e=Ri(e,i,a),e!==null?e.sibling:null);hr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Lo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return bp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,_p(e,i,a);case 24:gr(i,Se,e.memoizedState.cache)}return Ri(e,i,a)}function wp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!sf(e,a)&&(i.flags&128)===0)return Oe=!1,T0(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,zt&&(i.flags&1048576)!==0&&ug(i,du,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")vf(o)?(e=ps(o,e),i.tag=1,i=Ep(null,i,o,e,a)):(i.tag=0,i=$h(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===H){i.tag=11,i=mp(null,i,o,e,a);break t}else if(h===it){i.tag=14,i=gp(null,i,o,e,a);break t}}throw i=w(o)||o,Error(r(306,i,""))}}return i;case 0:return $h(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ps(o,i.pendingProps),Ep(e,i,o,h,a);case 3:t:{if(Yi(i,i.stateNode.containerInfo),e===null)throw Error(r(387));var f=i.pendingProps;h=i.memoizedState,o=h.element,cf(e,i),Bo(i,f,null,a);var y=i.memoizedState;if(f=y.cache,gr(i,Se,f),f!==h.cache&&lf(i,[Se],a,!0),zo(),f=y.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Tp(e,i,f,a);break t}else if(f!==o){o=An(Error(r(424)),i),Ro(o),i=Tp(e,i,f,a);break t}else for(ke=Ln(i.stateNode.containerInfo.firstChild),We=i,zt=!0,kn=null,Jn=!0,a=yg(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(wo(),f===o){i=Ri(e,i,a);break t}Pe(e,i,f,a)}i=i.child}return i;case 26:return Po(e,i),e===null?(a=C_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,o=Qu(mn.current).createElement(a),o[Ie]=i,o[ve]=e,Le(o,a,e),Wt(o),i.stateNode=o):i.memoizedState=C_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return to(i),e===null&&zt&&(o=i.stateNode=w_(i.type,i.pendingProps,mn.current),We=i,Jn=!0,ke=Ln(o.firstChild)),o=i.pendingProps.children,e!==null||zt?Pe(e,i,o,a):i.child=hs(i,null,o,a),Po(e,i),i.child;case 5:return e===null&&zt&&((h=o=ke)&&(o=Z0(o,i.type,i.pendingProps,Jn),o!==null?(i.stateNode=o,We=i,ke=Ln(o.firstChild),Jn=!1,h=!0):h=!1),h||cs(i)),to(i),h=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Ff(h,f)?o=null:y!==null&&Ff(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Vh(e,i,m0,null,null,a),el._currentValue=h),Po(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&zt&&((e=a=ke)&&(a=W0(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,We=i,ke=null,e=!0):e=!1),e||cs(i)),null;case 13:return Ap(e,i,a);case 4:return Yi(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=hs(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return mp(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,gr(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ys(i),h=He(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return gp(e,i,i.type,i.pendingProps,a);case 15:return pp(e,i,i.type,i.pendingProps,a);case 19:return bp(e,i,a);case 22:return _p(e,i,a);case 24:return ys(i),o=He(Se),e===null?(h=Oh(),h===null&&(h=Xt,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},uf(i),gr(i,Se,h)):((e.lanes&a)!==0&&(cf(e,i),Bo(i,null,null,a),zo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gr(i,Se,o)):(o=f.cache,gr(i,Se,o),o!==h.cache&&lf(i,[Se],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}var af=Lt(null),_s=null,Ii=null;function gr(e,i,a){Gt(af,i._currentValue),i._currentValue=a}function Ci(e){e._currentValue=af.current,ne(af)}function of(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function lf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),of(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Lo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;ln(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ki.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(el):e=[el])}h=h.return}e!==null&&lf(i,e,a,o),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){_s=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Rp(_s,e)}function Nu(e,i){return _s===null&&ys(e),Rp(e,i)}function Rp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ii===null){if(e===null)throw Error(r(308));Ii=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ii=Ii.next=i;return a}var pr=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=hu(e),og(e,null,a),i}return cu(e,o,i,a),hu(e)}function xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,tr(e,a)}}function hf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var ff=!1;function zo(){if(ff){var e=da;if(e!==null)throw e}}function Bo(e,i,a,o){ff=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=N:E.next=N,G.lastBaseUpdate=b))}if(f!==null){var Y=h.baseState;y=0,G=N=b=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(kt&z)===z:(o&z)===z){z!==0&&z===fa&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,vt=E;z=i;var ae=a;switch(vt.tag){case 1:if(at=vt.payload,typeof at=="function"){Y=at.call(ae,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=vt.payload,z=typeof at=="function"?at.call(ae,Y,z):at,z==null)break t;Y=I({},Y,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(N=G=j,b=Y):G=G.next=j,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(b=Y),h.baseState=b,h.firstBaseUpdate=N,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Sr|=y,e.lanes=y,e.memoizedState=Y}}function Ip(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Cp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ip(a[e],i)}function qo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function vr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var b=a;try{E()}catch(N){Yt(h,b,N)}}}o=o.next}while(o!==f)}}catch(N){Yt(i,i.return,N)}}function Dp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cp(i,a)}catch(o){Yt(e,e.return,o)}}}function Op(e,i,a){a.props=ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function vs(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){Yt(e,i,f)}}function un(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Np(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Vp(e,i,a){try{var o=e.stateNode;Q0(o,e.type,a,i),o[ve]=i}catch(h){Yt(e,e.return,h)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(mf(e,i,a),e=e.sibling;e!==null;)mf(e,i,a),e=e.sibling}function Vu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Vu(e,i,a),e=e.sibling;e!==null;)Vu(e,i,a),e=e.sibling}var Di=!1,re=!1,gf=!1,Up=typeof WeakSet=="function"?WeakSet:Set,Ne=null,kp=!1;function A0(e,i){if(e=e.containerInfo,jf=Wu,e=Wm(e),ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,N=0,G=0,Y=e,z=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(b=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===a&&++N===h&&(E=y),z===f&&++G===o&&(b=y),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:e,selectionRange:a},Wu=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=ps(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Yf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}return at=kp,kp=!1,at}function Pp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(e,a),o&4&&qo(5,a);break;case 1:if(Ni(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=ps(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}o&64&&Dp(a),o&512&&vs(a,a.return);break;case 3:if(Ni(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Cp(o,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Ni(e,a),o&512&&vs(a,a.return);break;case 27:case 5:Ni(e,a),i===null&&o&4&&Np(a),o&512&&vs(a,a.return);break;case 12:Ni(e,a);break;case 13:Ni(e,a),o&4&&zp(e,a);break;case 22:if(h=a.memoizedState!==null||Di,!h){i=i!==null&&i.memoizedState!==null||re;var f=Di,y=re;Di=h,(re=i)&&!y?Er(e,a,(a.subtreeFlags&8772)!==0):Ni(e,a),Di=f,re=y}o&512&&(a.memoizedProps.mode==="manual"?vs(a,a.return):un(a,a.return));break;default:Ni(e,a)}}function Lp(e){var i=e.alternate;i!==null&&(e.alternate=null,Lp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,cn=!1;function Oi(e,i,a){for(a=a.child;a!==null;)xp(e,i,a),a=a.sibling}function xp(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Xi,a)}catch{}switch(a.tag){case 26:re||un(a,i),Oi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||un(a,i);var o=me,h=cn;for(me=a.stateNode,Oi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Xr(a),me=o,cn=h;break;case 5:re||un(a,i);case 6:h=me;var f=cn;if(me=null,Oi(e,i,a),me=h,cn=f,me!==null)if(cn)try{e=me,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Yt(a,i,y)}else try{me.removeChild(a.stateNode)}catch(y){Yt(a,i,y)}break;case 18:me!==null&&(cn?(i=me,a=a.stateNode,i.nodeType===8?Kf(i.parentNode,a):i.nodeType===1&&Kf(i,a),sl(i)):Kf(me,a.stateNode));break;case 4:o=me,h=cn,me=a.stateNode.containerInfo,cn=!0,Oi(e,i,a),me=o,cn=h;break;case 0:case 11:case 14:case 15:re||vr(2,a,i),re||vr(4,a,i),Oi(e,i,a);break;case 1:re||(un(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Op(a,i,o)),Oi(e,i,a);break;case 21:Oi(e,i,a);break;case 22:re||un(a,i),re=(o=re)||a.memoizedState!==null,Oi(e,i,a),re=o;break;default:Oi(e,i,a)}}function zp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sl(e)}catch(a){Yt(i,i.return,a)}}function S0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Up),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Up),i;default:throw Error(r(435,e.tag))}}function pf(e,i){var a=S0(e);i.forEach(function(o){var h=P0.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Rn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,cn=!1;break t;case 3:me=E.stateNode.containerInfo,cn=!0;break t;case 4:me=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(me===null)throw Error(r(160));xp(f,y,h),me=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Bp(i,e),i=i.sibling}var Pn=null;function Bp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(i,e),In(e),o&4&&(vr(3,e,e.return),qo(3,e),vr(5,e,e.return));break;case 1:Rn(i,e),In(e),o&512&&(re||a===null||un(a,a.return)),o&64&&Di&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Pn;if(Rn(i,e),In(e),o&512&&(re||a===null||un(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[nr]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,a),f[Ie]=e,Wt(f),o=f;break t;case"link":var y=N_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;case"meta":if(y=N_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ie]=e,Wt(f),o=f}e.stateNode=o}else V_(h,e.type,e.stateNode);else e.stateNode=O_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?V_(h,e.type,e.stateNode):O_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var b=h.firstChild;b;){var N=b.nextSibling,G=b.nodeName;b[nr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=N}for(var Y=e.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);Le(h,Y,f),h[Ie]=e,h[ve]=f}catch(at){Yt(e,e.return,at)}}case 5:if(Rn(i,e),In(e),o&512&&(re||a===null||un(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vp(e,h,a!==null?a.memoizedProps:h)),o&1024&&(gf=!0);break;case 6:if(Rn(i,e),In(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(Xu=null,h=Pn,Pn=Ku(i.containerInfo),Rn(i,e),Pn=h,In(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(i.containerInfo)}catch(at){Yt(e,e.return,at)}gf&&(gf=!1,qp(e));break;case 4:o=Pn,Pn=Ku(e.stateNode.containerInfo),Rn(i,e),In(e),Pn=o;break;case 12:Rn(i,e),In(e);break;case 13:Rn(i,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wf=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pf(e,o)));break;case 22:if(o&512&&(re||a===null||un(a,a.return)),b=e.memoizedState!==null,N=a!==null&&a.memoizedState!==null,G=Di,Y=re,Di=G||b,re=Y||N,Rn(i,e),re=Y,Di=G,In(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=b?i._visibility&-2:i._visibility|1,b&&(i=Di||re,a===null||N||i||_a(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){N=a=i;try{if(h=N.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var j=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Yt(N,N.return,at)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(at){Yt(N,N.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pf(e,a))));break;case 19:Rn(i,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pf(e,o)));break;case 21:break;default:Rn(i,e),In(e)}}function In(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Mp(a)){var o=a;break t}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var h=o.stateNode,f=df(e);Vu(e,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(_n(y,""),o.flags&=-33);var E=df(e);Vu(e,E,y);break;case 3:case 4:var b=o.stateNode.containerInfo,N=df(e);mf(e,N,b);break;default:throw Error(r(161))}}}catch(G){Yt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ni(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pp(e,i.alternate,i),i=i.sibling}function _a(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),_a(i);break;case 1:un(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Op(i,i.return,a),_a(i);break;case 26:case 27:case 5:un(i,i.return),_a(i);break;case 22:un(i,i.return),i.memoizedState===null&&_a(i);break;default:_a(i)}e=e.sibling}}function Er(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Er(h,f,a),qo(4,f);break;case 1:if(Er(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Yt(o,o.return,N)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Ip(b[h],E)}catch(N){Yt(o,o.return,N)}}a&&y&64&&Dp(f),vs(f,f.return);break;case 26:case 27:case 5:Er(h,f,a),a&&o===null&&y&4&&Np(f),vs(f,f.return);break;case 12:Er(h,f,a);break;case 13:Er(h,f,a),a&&y&4&&zp(h,f);break;case 22:f.memoizedState===null&&Er(h,f,a),vs(f,f.return);break;default:Er(h,f,a)}i=i.sibling}}function _f(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&No(a))}function yf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e))}function Tr(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hp(e,i,a,o),i=i.sibling}function Hp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Tr(e,i,a,o),h&2048&&qo(9,i);break;case 3:Tr(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){Tr(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(i,i.return,b)}}else Tr(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,i.memoizedState!==null?f._visibility&4?Tr(e,i,a,o):Ho(e,i):f._visibility&4?Tr(e,i,a,o):(f._visibility|=4,ya(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&_f(i.alternate,i);break;case 24:Tr(e,i,a,o),h&2048&&yf(i.alternate,i);break;default:Tr(e,i,a,o)}}function ya(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,y=i,E=a,b=o,N=y.flags;switch(y.tag){case 0:case 11:case 15:ya(f,y,E,b,h),qo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&4?ya(f,y,E,b,h):Ho(f,y):(G._visibility|=4,ya(f,y,E,b,h)),h&&N&2048&&_f(y.alternate,y);break;case 24:ya(f,y,E,b,h),h&&N&2048&&yf(y.alternate,y);break;default:ya(f,y,E,b,h)}i=i.sibling}}function Ho(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Ho(a,o),h&2048&&_f(o.alternate,o);break;case 24:Ho(a,o),h&2048&&yf(o.alternate,o);break;default:Ho(a,o)}i=i.sibling}}var jo=8192;function va(e){if(e.subtreeFlags&jo)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 26:va(e),e.flags&jo&&e.memoizedState!==null&&hA(Pn,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var i=Pn;Pn=Ku(e.stateNode.containerInfo),va(e),Pn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=jo,jo=16777216,va(e),jo=i):va(e));break;default:va(e)}}function Gp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Go(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Qp(o,e)}Gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&vr(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Mu(e)):Go(e);break;default:Go(e)}}function Mu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Qp(o,e)}Gp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:vr(8,i,i.return),Mu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Mu(i));break;default:Mu(i)}e=e.sibling}}function Qp(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Lp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function b0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,i,a,o){return new b0(e,i,a,o)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,i){var a=e.alternate;return a===null?(a=Cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kp(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,o,h,f){var y=0;if(o=e,typeof e=="function")vf(e)&&(y=1);else if(typeof e=="string")y=uA(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Es(a.children,h,f,i);case v:y=8,h|=24;break;case A:return e=Cn(12,a,i,h|2),e.elementType=A,e.lanes=f,e;case Z:return e=Cn(13,a,i,h),e.elementType=Z,e.lanes=f,e;case $:return e=Cn(19,a,i,h),e.elementType=$,e.lanes=f,e;case gt:return Yp(a,h,f,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case q:y=10;break t;case U:y=9;break t;case H:y=11;break t;case it:y=14;break t;case lt:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Cn(y,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Es(e,i,a,o){return e=Cn(7,e,o,i),e.lanes=a,e}function Yp(e,i,a,o){e=Cn(22,e,o,i),e.elementType=gt,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(r(456));if((h._pendingVisibility&2)===0){var y=cr(f,2);y!==null&&(h._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(r(456));if((h._pendingVisibility&2)!==0){var y=cr(f,2);y!==null&&(h._pendingVisibility&=-3,Je(y,f,2))}}};return e.stateNode=h,e}function Ef(e,i,a){return e=Cn(6,e,null,i),e.lanes=a,e}function Tf(e,i,a){return i=Cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Vi(e){e.flags|=4}function Xp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(i)){if(i=wn.current,i!==null&&((kt&4194176)===kt?ti!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ti))throw Co=wh,fg;e.flags|=8192}}function ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Wi():536870912,e.lanes|=i,Ta|=i)}function Fo(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function w0(e,i,a){var o=i.pendingProps;switch(Sh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ci(Se),hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bo(i)?Vi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kn!==null&&(Df(kn),kn=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(Vi(i),a!==null?(Jt(i),Xp(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Vi(i),Jt(i),Xp(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==o&&Vi(i),Jt(i),i.flags&=-16777217),null;case 27:Bs(i),a=mn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Jt(i),null}e=Ye.current,bo(i)?cg(i):(e=w_(h,o,a),i.stateNode=e,Vi(i))}return Jt(i),null;case 5:if(Bs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Jt(i),null}if(e=Ye.current,bo(i))cg(i);else{switch(h=Qu(mn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=i,e[ve]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=mn.current,bo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,a)),e||cs(i)}else e=Qu(e).createTextNode(o),e[Ie]=i,i.stateNode=e}return Jt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=bo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ie]=i}else wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else kn!==null&&(Df(kn),kn=null),h=!0;if(!h)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ku(i,i.updateQueue),Jt(i),null;case 4:return hi(),e===null&&Bf(i.stateNode.containerInfo),Jt(i),null;case 10:return Ci(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Fo(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=yu(e),f!==null){for(i.flags|=128,Fo(h,!1),e=f.updateQueue,i.updateQueue=e,ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Kp(a,e),a=a.sibling;return Gt(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&tn()>Pu&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304)}else{if(!o)if(e=yu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,ku(i,e),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return Jt(i),null}else 2*tn()-h.renderingStartTime>Pu&&a!==536870912&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=tn(),i.sibling=null,e=Ae.current,Gt(Ae,o?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return bi(i),Ih(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&ne(fs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ci(Se),Jt(i),null;case 25:return null}throw Error(r(156,i.tag))}function R0(e,i){switch(Sh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ci(Se),hi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Bs(i),null;case 13:if(bi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));wo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return hi(),null;case 10:return Ci(i.type),null;case 22:case 23:return bi(i),Ih(),e!==null&&ne(fs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ci(Se),null;case 25:return null;default:return null}}function $p(e,i){switch(Sh(i),i.tag){case 3:Ci(Se),hi();break;case 26:case 27:case 5:Bs(i);break;case 4:hi();break;case 13:bi(i);break;case 19:ne(Ae);break;case 10:Ci(i.type);break;case 22:case 23:bi(i),Ih(),e!==null&&ne(fs);break;case 24:Ci(Se)}}var I0={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},C0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Ct=null,kt=0,$t=0,hn=null,Mi=!1,Ea=!1,Af=!1,Ui=0,se=0,Sr=0,Ts=0,Sf=0,Dn=0,Ta=0,Qo=null,ni=null,bf=!1,wf=0,Pu=1/0,Lu=null,br=null,xu=!1,As=null,Ko=0,Rf=0,If=null,Yo=0,Cf=null;function fn(){if((te&2)!==0&&kt!==0)return kt&-kt;if(S.T!==null){var e=fa;return e!==0?e:Pf()}return Gl()}function Zp(){Dn===0&&(Dn=(kt&536870912)===0||zt?so():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Dn}function Je(e,i,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(Aa(e,0),ki(e,kt,Dn,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(Ts|=a),se===4&&ki(e,kt,Dn,!1)),ii(e))}function Wp(e,i,a){if((te&6)!==0)throw Error(r(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Zi(e,i),h=o?N0(e,i):Vf(e,i,!0),f=o;do{if(h===0){Ea&&!o&&ki(e,i,0,!1);break}else if(h===6)ki(e,i,0,!Mi);else{if(a=e.current.alternate,f&&!D0(a)){h=Vf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=Qo;var b=E.current.memoizedState.isDehydrated;if(b&&(Aa(E,y).flags|=256),y=Vf(E,y,!1),y!==2){if(Af&&!b){E.errorRecoveryDisabledLanes|=f,Ts|=f,h=4;break t}f=ni,ni=h,f!==null&&Df(f)}h=y}if(f=!1,h!==2)continue}}if(h===1){Aa(e,0),ki(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(r(345));case 4:if((i&4194176)===i){ki(o,i,Dn,!Mi);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(f=wf+300-tn(),10<f)){if(ki(o,i,Dn,!Mi),gn(o,0)!==0)break t;o.timeoutHandle=A_(Jp.bind(null,o,a,ni,Lu,bf,i,Dn,Ts,Ta,Mi,2,-0,0),f);break t}Jp(o,a,ni,Lu,bf,i,Dn,Ts,Ta,Mi,0,-0,0)}}break}while(!0);ii(e)}function Df(e){ni===null?ni=e:ni.push.apply(ni,e)}function Jp(e,i,a,o,h,f,y,E,b,N,G,Y,z){var j=i.subtreeFlags;if((j&8192||(j&16785408)===16785408)&&(tl={stylesheets:null,count:0,unsuspend:cA},jp(i),i=fA(),i!==null)){e.cancelPendingCommit=i(a_.bind(null,e,a,o,h,y,E,b,1,Y,z)),ki(e,f,y,!N);return}a_(e,a,o,h,y,E,b,G,Y,z)}function D0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(e,i,a,o){i&=~Sf,i&=~Ts,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Xe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Ji(e,a,i)}function zu(){return(te&6)===0?(Xo(0),!1):!0}function Of(){if(Ct!==null){if($t===0)var e=Ct.return;else e=Ct,Ii=_s=null,kh(e),ca=null,Do=0,e=Ct;for(;e!==null;)$p(e.alternate,e),e=e.return;Ct=null}}function Aa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Y0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Of(),Xt=e,Ct=a=Ar(e.current,null),kt=i,$t=0,hn=null,Mi=!1,Ea=Zi(e,i),Af=!1,Ta=Dn=Sf=Ts=Sr=se=0,ni=Qo=null,bf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Xe(o),f=1<<h;i|=e[h],o&=~f}return Ui=i,uu(),a}function t_(e,i){bt=null,S.H=ei,i===Io?(i=gg(),$t=3):i===fg?(i=gg(),$t=4):$t=i===dp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Ct===null&&(se=1,Du(e,An(i,e.current)))}function e_(){var e=S.H;return S.H=ei,e===null?ei:e}function n_(){var e=S.A;return S.A=I0,e}function Nf(){se=4,Mi||(kt&4194176)!==kt&&wn.current!==null||(Ea=!0),(Sr&134217727)===0&&(Ts&134217727)===0||Xt===null||ki(Xt,kt,Dn,!1)}function Vf(e,i,a){var o=te;te|=2;var h=e_(),f=n_();(Xt!==e||kt!==i)&&(Lu=null,Aa(e,i)),i=!1;var y=se;t:do try{if($t!==0&&Ct!==null){var E=Ct,b=hn;switch($t){case 8:Of(),y=6;break t;case 3:case 2:case 6:wn.current===null&&(i=!0);var N=$t;if($t=0,hn=null,Sa(e,E,b,N),a&&Ea){y=0;break t}break;default:N=$t,$t=0,hn=null,Sa(e,E,b,N)}}O0(),y=se;break}catch(G){t_(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ii=_s=null,te=o,S.H=h,S.A=f,Ct===null&&(Xt=null,kt=0,uu()),y}function O0(){for(;Ct!==null;)i_(Ct)}function N0(e,i){var a=te;te|=2;var o=e_(),h=n_();Xt!==e||kt!==i?(Lu=null,Pu=tn()+500,Aa(e,i)):Ea=Zi(e,i);t:do try{if($t!==0&&Ct!==null){i=Ct;var f=hn;e:switch($t){case 1:$t=0,hn=null,Sa(e,i,f,1);break;case 2:if(dg(f)){$t=0,hn=null,r_(i);break}i=function(){$t===2&&Xt===e&&($t=7),ii(e)},f.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:dg(f)?($t=0,hn=null,r_(i)):($t=0,hn=null,Sa(e,i,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||M_(y)){$t=0,hn=null;var b=E.sibling;if(b!==null)Ct=b;else{var N=E.return;N!==null?(Ct=N,Bu(N)):Ct=null}break e}}$t=0,hn=null,Sa(e,i,f,5);break;case 6:$t=0,hn=null,Sa(e,i,f,6);break;case 8:Of(),se=6;break t;default:throw Error(r(462))}}V0();break}catch(G){t_(e,G)}while(!0);return Ii=_s=null,S.H=o,S.A=h,te=a,Ct!==null?0:(Xt=null,kt=0,uu(),se)}function V0(){for(;Ct!==null&&!sh();)i_(Ct)}function i_(e){var i=wp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Bu(e):Ct=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=vp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=vp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:kh(i);default:$p(a,i),i=Ct=Kp(i,Ui),i=wp(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Bu(e):Ct=i}function Sa(e,i,a,o){Ii=_s=null,kh(i),ca=null,Do=0;var h=i.return;try{if(E0(e,h,i,a,kt)){se=1,Du(e,An(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;se=1,Du(e,An(a,e.current)),Ct=null;return}i.flags&32768?(zt||o===1?e=!0:Ea||(kt&536870912)!==0?e=!1:(Mi=e=!0,(o===2||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),s_(i,e)):Bu(i)}function Bu(e){var i=e;do{if((i.flags&32768)!==0){s_(i,Mi);return}e=i.return;var a=w0(i.alternate,i,Ui);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);se===0&&(se=5)}function s_(e,i){do{var a=R0(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);se=6,Ct=null}function a_(e,i,a,o,h,f,y,E,b,N){var G=S.T,Y=et.p;try{et.p=2,S.T=null,M0(e,i,a,o,Y,h,f,y,E,b,N)}finally{S.T=G,et.p=Y}}function M0(e,i,a,o,h,f,y,E){do ba();while(As!==null);if((te&6)!==0)throw Error(r(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Eh,Hl(e,o,N,f,y,E),e===Xt&&(Ct=Xt=null,kt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||xu||(xu=!0,Rf=N,If=a,L0(fi,function(){return ba(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=et.p,et.p=2,y=te,te|=4,A0(e,b),Bp(b,e),i0(Gf,e.containerInfo),Wu=!!jf,Gf=jf=null,e.current=b,Pp(e,b.alternate,b),eo(),te=y,et.p=f,S.T=a):e.current=b,xu?(xu=!1,As=e,Ko=o):o_(e,N),N=e.pendingLanes,N===0&&(br=null),io(b.stateNode),ii(e),i!==null)for(h=e.onRecoverableError,b=0;b<i.length;b++)N=i[b],h(N.value,{componentStack:N.stack});return(Ko&3)!==0&&ba(),N=e.pendingLanes,(o&4194218)!==0&&(N&42)!==0?e===Cf?Yo++:(Yo=0,Cf=e):Yo=0,Xo(0),null}function o_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,No(i)))}function ba(){if(As!==null){var e=As,i=Rf;Rf=0;var a=jl(Ko),o=S.T,h=et.p;try{if(et.p=32>a?32:a,S.T=null,As===null)var f=!1;else{a=If,If=null;var y=As,E=Ko;if(As=null,Ko=0,(te&6)!==0)throw Error(r(331));var b=te;if(te|=4,Fp(y.current),Hp(y,y.current,E,a),te=b,Xo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Xi,y)}catch{}f=!0}return f}finally{et.p=h,S.T=o,o_(e,i)}}return!1}function l_(e,i,a){i=An(a,i),i=Xh(e.stateNode,i,2),e=yr(e,i,2),e!==null&&(oe(e,2),ii(e))}function Yt(e,i,a){if(e.tag===3)l_(e,e,a);else for(;i!==null;){if(i.tag===3){l_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=An(a,e),a=hp(2),o=yr(i,a,2),o!==null&&(fp(a,o,i,e),oe(o,2),ii(o));break}}i=i.return}}function Mf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new C0;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Af=!0,h.add(a),e=U0.bind(null,e,i,a),i.then(e,e))}function U0(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(kt&a)===a&&(se===4||se===3&&(kt&62914560)===kt&&300>tn()-wf?(te&2)===0&&Aa(e,0):Sf|=a,Ta===kt&&(Ta=0)),ii(e)}function u_(e,i){i===0&&(i=Wi()),e=cr(e,i),e!==null&&(oe(e,i),ii(e))}function k0(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(e,a)}function P0(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),u_(e,a)}function L0(e,i){return Qr(e,i)}var qu=null,wa=null,Uf=!1,Hu=!1,kf=!1,Ss=0;function ii(e){e!==wa&&e.next===null&&(wa===null?qu=wa=e:wa=wa.next=e),Hu=!0,Uf||(Uf=!0,z0(x0))}function Xo(e,i){if(!kf&&Hu){kf=!0;do for(var a=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Xe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,f_(o,f))}else f=kt,f=gn(o,o===Xt?f:0),(f&3)===0||Zi(o,f)||(a=!0,f_(o,f));o=o.next}while(a);kf=!1}}function x0(){Hu=Uf=!1;var e=0;Ss!==0&&(K0()&&(e=Ss),Ss=0);for(var i=tn(),a=null,o=qu;o!==null;){var h=o.next,f=c_(o,i);f===0?(o.next=null,a===null?qu=h:a.next=h,h===null&&(wa=a)):(a=o,(e!==0||(f&3)!==0)&&(Hu=!0)),o=h}Xo(e)}function c_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Xe(f),E=1<<y,b=h[y];b===-1?((E&a)===0||(E&o)!==0)&&(h[y]=js(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Xt,a=kt,a=gn(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Hs(o),jl(a)){case 2:case 8:a=Re;break;case 32:a=fi;break;case 268435456:a=no;break;default:a=fi}return o=h_.bind(null,e),a=Qr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Hs(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,i){var a=e.callbackNode;if(ba()&&e.callbackNode!==a)return null;var o=kt;return o=gn(e,e===Xt?o:0),o===0?null:(Wp(e,o,i),c_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?h_.bind(null,e):null)}function f_(e,i){if(ba())return null;Wp(e,i,!0)}function z0(e){X0(function(){(te&6)!==0?Qr(ye,e):e()})}function Pf(){return Ss===0&&(Ss=so()),Ss}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qn(""+e)}function m_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function B0(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=d_((h[ve]||null).action),y=o.submitter;y&&(i=(i=y[ve]||null)?d_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new $s("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var b=y?m_(h,y):new FormData(h);Gh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?m_(h,y):new FormData(h),Gh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Lf=0;Lf<ag.length;Lf++){var xf=ag[Lf],q0=xf.toLowerCase(),H0=xf[0].toUpperCase()+xf.slice(1);Un(q0,"on"+H0)}Un(eg,"onAnimationEnd"),Un(ng,"onAnimationIteration"),Un(ig,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(s0,"onTransitionRun"),Un(a0,"onTransitionStart"),Un(o0,"onTransitionCancel"),Un(rg,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function g_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=b}}}}function Vt(e,i){var a=i[Yr];a===void 0&&(a=i[Yr]=new Set);var o=e+"__bubble";a.has(o)||(p_(i,e,2,!1),a.add(o))}function zf(e,i,a){var o=0;i&&(o|=4),p_(a,e,o,i)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[ju]){e[ju]=!0,oo.forEach(function(a){a!=="selectionchange"&&(j0.has(a)||zf(a,!1,e),zf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ju]||(i[ju]=!0,zf("selectionchange",!1,i))}}function p_(e,i,a,o){switch(z_(i)){case 2:var h=gA;break;case 8:h=pA;break;default:h=Jf}a=h.bind(null,i,a,e),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function qf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Yl(function(){var N=f,G=Xs(a),Y=[];t:{var z=sg.get(e);if(z!==void 0){var j=$s,at=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":j=na;break;case"focusin":at="focus",j=Js;break;case"focusout":at="blur",j=Js;break;case"beforeblur":case"afterblur":j=Js;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=nu;break;case eg:case ng:case ig:j=ta;break;case rg:j=ru;break;case"scroll":case"scrollend":j=Xl;break;case"wheel":j=ia;break;case"copy":case"cut":case"paste":j=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Eo;break;case"toggle":case"beforetoggle":j=au}var vt=(i&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),k=vt?z!==null?z+"Capture":null:z;vt=[];for(var O=N,x;O!==null;){var F=O;if(x=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||x===null||k===null||(F=Jr(O,k),F!=null&&vt.push(Zo(O,F,x))),ae)break;O=O.return}0<vt.length&&(z=new j(z,at,null,a,G),Y.push({event:z,listeners:vt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==yn&&(at=a.relatedTarget||a.fromElement)&&(Mn(at)||at[di]))break t;if((j||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,j?(at=a.relatedTarget||a.toElement,j=N,at=at?Mn(at):null,at!==null&&(ae=ct(at),vt=at.tag,at!==ae||vt!==5&&vt!==27&&vt!==6)&&(at=null)):(j=null,at=N),j!==at)){if(vt=En,F="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Eo,F="onPointerLeave",k="onPointerEnter",O="pointer"),ae=j==null?z:ir(j),x=at==null?z:ir(at),z=new vt(F,O+"leave",j,a,G),z.target=ae,z.relatedTarget=x,F=null,Mn(G)===N&&(vt=new vt(k,O+"enter",at,a,G),vt.target=x,vt.relatedTarget=ae,F=vt),ae=F,j&&at)e:{for(vt=j,k=at,O=0,x=vt;x;x=Ra(x))O++;for(x=0,F=k;F;F=Ra(F))x++;for(;0<O-x;)vt=Ra(vt),O--;for(;0<x-O;)k=Ra(k),x--;for(;O--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=Ra(vt),k=Ra(k)}vt=null}else vt=null;j!==null&&__(Y,z,j,vt,!1),at!==null&&ae!==null&&__(Y,ae,at,vt,!0)}}t:{if(z=N?ir(N):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var rt=Gm;else if(Te(z))if(Fm)rt=e0;else{rt=JT;var It=WT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&fo(N.elementType)&&(rt=Gm):rt=t0;if(rt&&(rt=rt(e,N))){Ti(Y,rt,a,G);break t}It&&It(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&Ys(z,"number",z.value)}switch(It=N?ir(N):window,e){case"focusin":(Te(It)||It.contentEditable==="true")&&(ra=It,_h=N,So=null);break;case"focusout":So=_h=ra=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Jm(Y,a,G);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":Jm(Y,a,G)}var ut;if(Zn)t:{switch(e){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Mt?B(e,a)&&(ft="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(_&&a.locale!=="ko"&&(Mt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Mt&&(ut=go()):(Kn=G,ur="value"in Kn?Kn.value:Kn.textContent,Mt=!0)),It=Gu(N,ft),0<It.length&&(ft=new yo(ft,e,null,a,G),Y.push({event:ft,listeners:It}),ut?ft.data=ut:(ut=W(a),ut!==null&&(ft.data=ut)))),(ut=m?Ee(e,a):Ut(e,a))&&(ft=Gu(N,"onBeforeInput"),0<ft.length&&(It=new yo("onBeforeInput","beforeinput",null,a,G),Y.push({event:It,listeners:ft}),It.data=ut)),B0(Y,e,N,a,G)}g_(Y,i)})}function Zo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Gu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jr(e,a),h!=null&&o.unshift(Zo(e,h,f)),h=Jr(e,i),h!=null&&o.push(Zo(e,h,f))),e=e.return}return o}function Ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function __(e,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||N===null||(b=N,h?(N=Jr(a,f),N!=null&&y.unshift(Zo(a,N,b))):h||(N=Jr(a,f),N!=null&&y.push(Zo(a,N,b)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var G0=/\r\n?/g,F0=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(G0,`
`).replace(F0,"")}function v_(e,i){return i=y_(i),y_(e)===i}function Fu(){}function Qt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&_n(e,""+o);break;case"className":ar(e,"class",o);break;case"tabIndex":ar(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,a,o);break;case"style":Kl(e,o,f);break;case"data":if(i!=="object"){ar(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Qn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),sr(e,"popover",o);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ch.get(a)||a,sr(e,a,o))}}function Hf(e,i,a,o,h,f){switch(a){case"style":Kl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sr(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Qt(e,i,f,y,a,null)}}h&&Qt(e,i,"srcSet",a.srcSet,a,null),o&&Qt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=y=h=null,b=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":N=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Qt(e,i,o,G,a,null)}}Zr(e,f,E,b,N,y,h,!1),$r(e);return;case"select":Vt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Qt(e,i,h,E,a,null)}i=f,a=y,e.multiple=!!o,i!=null?xt(e,!!o,i,!1):a!=null&&xt(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Qt(e,i,y,E,a,null)}lr(e,o,h,f),$r(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,i,b,o,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Vt($o[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Qt(e,i,N,o,a,null)}return;default:if(fo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Hf(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Qt(e,i,E,o,a,null))}function Q0(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,b=null,N=null,G=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=Y;default:o.hasOwnProperty(j)||Qt(e,i,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":N=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:j!==Y&&Qt(e,i,z,j,o,Y)}}or(e,y,E,b,N,G,f,h);return;case"select":j=y=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:o.hasOwnProperty(f)||Qt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(e,i,h,f,o,b)}i=E,a=y,o=j,z!=null?xt(e,!!a,z,!1):!!o!=!!a&&(i!=null?xt(e,!!a,i,!0):xt(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Qt(e,i,y,h,o,f)}Wr(e,z,j);return;case"option":for(var at in a)if(z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Qt(e,i,at,null,o,z)}for(b in o)if(z=o[b],j=a[b],o.hasOwnProperty(b)&&z!==j&&(z!=null||j!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Qt(e,i,b,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt)&&Qt(e,i,vt,null,o,z);for(N in o)if(z=o[N],j=a[N],o.hasOwnProperty(N)&&z!==j&&(z!=null||j!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Qt(e,i,N,z,o,j)}return;default:if(fo(i)){for(var ae in a)z=a[ae],a.hasOwnProperty(ae)&&z!==void 0&&!o.hasOwnProperty(ae)&&Hf(e,i,ae,void 0,o,z);for(G in o)z=o[G],j=a[G],!o.hasOwnProperty(G)||z===j||z===void 0&&j===void 0||Hf(e,i,G,z,o,j);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Qt(e,i,k,null,o,z);for(Y in o)z=o[Y],j=a[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||Qt(e,i,Y,z,o,j)}var jf=null,Gf=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ff(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qf=null;function K0(){var e=window.event;return e&&e.type==="popstate"?e===Qf?!1:(Qf=e,!0):(Qf=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch($0)}:A_;function $0(e){setTimeout(function(){throw e})}function Kf(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),sl(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);sl(i)}function Yf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yf(a),Xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Z0(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[nr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function W0(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function b_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function w_(e,i,a){switch(i=Qu(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var On=new Map,R_=new Set;function Ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Pi=et.d;et.d={f:J0,r:tA,D:eA,C:nA,L:iA,m:rA,X:aA,S:sA,M:oA};function J0(){var e=Pi.f(),i=zu();return e||i}function tA(e){var i=mi(e);i!==null&&i.tag===5&&i.type==="form"?Jg(i):Pi.r(e)}var Ia=typeof document>"u"?null:document;function I_(e,i,a){var o=Ia;if(o&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),Wt(i),o.head.appendChild(i)))}}function eA(e){Pi.D(e),I_("dns-prefetch",e,null)}function nA(e,i){Pi.C(e,i),I_("preconnect",e,i)}function iA(e,i,a){Pi.L(e,i,a);var o=Ia;if(o&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var f=h;switch(i){case"style":f=Ca(e);break;case"script":f=Da(e)}On.has(f)||(e=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),On.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Wo(f))||i==="script"&&o.querySelector(Jo(f))||(i=o.createElement("link"),Le(i,"link",e),Wt(i),o.head.appendChild(i)))}}function rA(e,i){Pi.m(e,i);var a=Ia;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Da(e)}if(!On.has(f)&&(e=I({rel:"modulepreload",href:e},i),On.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jo(f)))return}o=a.createElement("link"),Le(o,"link",e),Wt(o),a.head.appendChild(o)}}}function sA(e,i,a){Pi.S(e,i,a);var o=Ia;if(o&&e){var h=rr(o).hoistableStyles,f=Ca(e);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Wo(f)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},a),(a=On.get(f))&&Xf(e,a);var b=y=o.createElement("link");Wt(b),Le(b,"link",e),b._p=new Promise(function(N,G){b.onload=N,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Yu(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function aA(e,i){Pi.X(e,i);var a=Ia;if(a&&e){var o=rr(a).hoistableScripts,h=Da(e),f=o.get(h);f||(f=a.querySelector(Jo(h)),f||(e=I({src:e,async:!0},i),(i=On.get(h))&&$f(e,i),f=a.createElement("script"),Wt(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function oA(e,i){Pi.M(e,i);var a=Ia;if(a&&e){var o=rr(a).hoistableScripts,h=Da(e),f=o.get(h);f||(f=a.querySelector(Jo(h)),f||(e=I({src:e,async:!0,type:"module"},i),(i=On.get(h))&&$f(e,i),f=a.createElement("script"),Wt(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,i,a,o){var h=(h=mn.current)?Ku(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ca(a.href),a=rr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ca(a.href);var f=rr(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Wo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),f||lA(h,e,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Da(a),a=rr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ca(e){return'href="'+ie(e)+'"'}function Wo(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function lA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),Wt(i),e.head.appendChild(i))}function Da(e){return'[src="'+ie(e)+'"]'}function Jo(e){return"script[async]"+e}function O_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(o)return i.instance=o,Wt(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Wt(o),Le(o,"style",h),Yu(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ca(a.href);var f=e.querySelector(Wo(h));if(f)return i.state.loading|=4,i.instance=f,Wt(f),f;o=D_(a),(h=On.get(h))&&Xf(o,h),f=(e.ownerDocument||e).createElement("link"),Wt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",o),i.state.loading|=4,Yu(f,a.precedence,e),i.instance=f;case"script":return f=Da(a.src),(h=e.querySelector(Jo(f)))?(i.instance=h,Wt(h),h):(o=a,(h=On.get(f))&&(o=I({},a),$f(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Yu(o,a.precedence,e));return i.instance}function Yu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Xf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function $f(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Xu=null;function N_(e,i,a){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(a,o)}else h=Xu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[nr]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function V_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function uA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var tl=null;function cA(){}function hA(e,i,a){if(tl===null)throw Error(r(475));var o=tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ca(a.href),f=e.querySelector(Wo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$u.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,Wt(f);return}f=e.ownerDocument||e,a=D_(a),(h=On.get(h))&&Xf(a,h),f=f.createElement("link"),Wt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=$u.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function fA(){if(tl===null)throw Error(r(475));var e=tl;return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function Zf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,i.forEach(dA,e),Zu=null,$u.call(e))}function dA(e,i){if(!(i.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var el={$$typeof:q,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function mA(e,i,a,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function U_(e,i,a,o,h,f,y,E,b,N,G,Y){return e=new mA(e,i,a,y,E,b,N,Y),i=1,f===!0&&(i|=24),f=Cn(3,null,null,i),e.current=f,f.stateNode=e,i=Ch(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},uf(f),e}function k_(e){return e?(e=oa,e):oa}function P_(e,i,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=yr(e,o,i),a!==null&&(Je(a,e,i),xo(a,e,i))}function L_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Wf(e,i){L_(e,i),(e=e.alternate)&&L_(e,i)}function x_(e){if(e.tag===13){var i=cr(e,67108864);i!==null&&Je(i,e,67108864),Wf(e,67108864)}}var Wu=!0;function gA(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=2,Jf(e,i,a,o)}finally{et.p=f,S.T=h}}function pA(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=8,Jf(e,i,a,o)}finally{et.p=f,S.T=h}}function Jf(e,i,a,o){if(Wu){var h=td(o);if(h===null)qf(e,i,o,Ju,a),B_(e,o);else if(yA(h,e,i,a,o))o.stopPropagation();else if(B_(e,o),i&4&&-1<_A.indexOf(e)){for(;h!==null;){var f=mi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Xe(y);E.entanglements[1]|=b,y&=~b}ii(f),(te&6)===0&&(Pu=tn()+500,Xo(0))}}break;case 13:E=cr(f,2),E!==null&&Je(E,f,2),zu(),Wf(f,2)}if(f=td(o),f===null&&qf(e,i,o,Ju,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else qf(e,i,o,null,a)}}function td(e){return e=Xs(e),ed(e)}var Ju=null;function ed(e){if(Ju=null,e=Mn(e),e!==null){var i=ct(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=qt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ju=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case ye:return 2;case Re:return 8;case fi:case zl:return 32;case no:return 268435456;default:return 32}default:return 32}}var nd=!1,wr=null,Rr=null,Ir=null,nl=new Map,il=new Map,Cr=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,i){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(i.pointerId)}}function rl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=mi(i),i!==null&&x_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function yA(e,i,a,o,h){switch(i){case"focusin":return wr=rl(wr,e,i,a,o,h),!0;case"dragenter":return Rr=rl(Rr,e,i,a,o,h),!0;case"mouseover":return Ir=rl(Ir,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return nl.set(f,rl(nl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,il.set(f,rl(il.get(f)||null,e,i,a,o,h)),!0}return!1}function q_(e){var i=Mn(e.target);if(i!==null){var a=ct(i);if(a!==null){if(i=a.tag,i===13){if(i=qt(a),i!==null){e.blockedOn=i,er(e.priority,function(){if(a.tag===13){var o=fn(),h=cr(a,o);h!==null&&Je(h,a,o),Wf(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=td(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);yn=o,a.target.dispatchEvent(o),yn=null}else return i=mi(a),i!==null&&x_(i),e.blockedOn=a,!1;i.shift()}return!0}function H_(e,i,a){tc(e)&&a.delete(i)}function vA(){nd=!1,wr!==null&&tc(wr)&&(wr=null),Rr!==null&&tc(Rr)&&(Rr=null),Ir!==null&&tc(Ir)&&(Ir=null),nl.forEach(H_),il.forEach(H_)}function ec(e,i){e.blockedOn===i&&(e.blockedOn=null,nd||(nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vA)))}var nc=null;function j_(e){nc!==e&&(nc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ed(o||a)===null)continue;break}var f=mi(a);f!==null&&(e.splice(i,3),i-=3,Gh(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function sl(e){function i(b){return ec(b,e)}wr!==null&&ec(wr,e),Rr!==null&&ec(Rr,e),Ir!==null&&ec(Ir,e),nl.forEach(i),il.forEach(i);for(var a=0;a<Cr.length;a++){var o=Cr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[ve]||null;if(typeof f=="function")y||j_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ve]||null)E=y.formAction;else if(ed(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),j_(a)}}}function id(e){this._internalRoot=e}ic.prototype.render=id.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=fn();P_(a,o,e,i,null,null)},ic.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&ba(),P_(e.current,2,null,e,null,null),zu(),i[di]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var i=Gl();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,e),a===0&&q_(e)}};var G_=t.version;if(G_!=="19.0.0")throw Error(r(527,G_,"19.0.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=X(i),e=e!==null?ot(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Xi=rc.inject(EA),qe=rc}catch{}}return ol.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=op,f=lp,y=up,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=U_(e,1,!1,null,null,a,o,h,f,y,E,null),e[di]=i.current,Bf(e.nodeType===8?e.parentNode:e),new id(i)},ol.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=op,y=lp,E=up,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),i=U_(e,1,!0,i,a??null,o,h,f,y,E,b,N),i.context=k_(null),a=i.current,o=fn(),h=_r(o),h.callback=null,yr(a,h,o),i.current.lanes=o,oe(i,o),ii(i),e[di]=i.current,Bf(e),new ic(i)},ol.version="19.0.0",ol}var ty;function OA(){if(ty)return ad.exports;ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ad.exports=DA(),ad.exports}var NA=OA();const VA=()=>{};var ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},MA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,v=p?s[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let U=(g&15)<<2|v>>6,q=v&63;p||(q=64,d||(U=64)),r.push(n[A],n[C],n[U],n[q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Nv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const v=l<s.length?n[s.charAt(l)]:64;++l;const C=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||C==null)throw new UA;const U=c<<2|g>>4;if(r.push(U),v!==64){const q=g<<4&240|v>>2;if(r.push(q),C!==64){const H=v<<6&192|C;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(s){const t=Nv(s);return Vv.encodeByteArray(t,!0)},Ac=function(s){return kA(s).replace(/\./g,"")},Mv=function(s){try{return Vv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=()=>PA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof ey>"u")return;const s=ey.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},zA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Mv(s[1]);return t&&JSON.parse(t)},Bc=()=>{try{return VA()||LA()||xA()||zA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Uv=s=>{var t,n;return(n=(t=Bc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[s]},BA=s=>{const t=Uv(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kv=()=>{var s;return(s=Bc())===null||s===void 0?void 0:s.config},Pv=s=>{var t;return(t=Bc())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function GA(){var s;const t=(s=Bc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const s=Ke();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XA(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class Qi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=WA,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?JA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Qi(l,g,r)}}function JA(s,t){return s.replace(tS,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const tS=/\{\$([^}]+)}/g;function eS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Os(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(ny(c)&&ny(d)){if(!Os(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function ny(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nS(s,t){const n=new iS(s,t);return n.subscribe.bind(n)}class iS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(s){return s&&s._delegate?s._delegate:s}class Ns{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new qA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,n){var r;const l=this.normalizeInstanceIdentifier(n),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(s){return s===bs?void 0:s}function oS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const uS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},cS=Dt.INFO,hS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},fS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=hS[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yd{constructor(t){this.name=t,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const dS=(s,t)=>t.some(n=>s instanceof n);let iy,ry;function mS(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,Ad=new WeakMap,xv=new WeakMap,hd=new WeakMap,Xd=new WeakMap;function pS(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(kr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Lv.set(n,s)}).catch(()=>{}),Xd.set(t,s),t}function _S(s){if(Ad.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Ad.set(s,t)}let Sd={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Ad.get(s);if(t==="objectStoreNames")return s.objectStoreNames||xv.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function yS(s){Sd=s(Sd)}function vS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(fd(this),t,...n);return xv.set(r,t.sort?t.sort():[t]),kr(r)}:gS().includes(s)?function(...t){return s.apply(fd(this),t),kr(Lv.get(this))}:function(...t){return kr(s.apply(fd(this),t))}}function ES(s){return typeof s=="function"?vS(s):(s instanceof IDBTransaction&&_S(s),dS(s,mS())?new Proxy(s,Sd):s)}function kr(s){if(s instanceof IDBRequest)return pS(s);if(hd.has(s))return hd.get(s);const t=ES(s);return t!==s&&(hd.set(s,t),Xd.set(t,s)),t}const fd=s=>Xd.get(s);function TS(s,t,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=kr(d);return r&&d.addEventListener("upgradeneeded",p=>{r(kr(d.result),p.oldVersion,p.newVersion,kr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],dd=new Map;function sy(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(dd.get(t))return dd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=SS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||AS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),l&&p.done]))[0]};return dd.set(t,c),c}yS(s=>({...s,get:(t,n,r)=>sy(t,n)||s.get(t,n,r),has:(t,n)=>!!sy(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bd="@firebase/app",ay="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Yd("@firebase/app"),RS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",DS="@firebase/app-check-compat",OS="@firebase/app-check",NS="@firebase/auth",VS="@firebase/auth-compat",MS="@firebase/database",US="@firebase/data-connect",kS="@firebase/database-compat",PS="@firebase/functions",LS="@firebase/functions-compat",xS="@firebase/installations",zS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",jS="@firebase/performance-compat",GS="@firebase/remote-config",FS="@firebase/remote-config-compat",QS="@firebase/storage",KS="@firebase/storage-compat",YS="@firebase/firestore",XS="@firebase/vertexai",$S="@firebase/firestore-compat",ZS="firebase",WS="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",JS={[bd]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[OS]:"fire-app-check",[DS]:"fire-app-check-compat",[NS]:"fire-auth",[VS]:"fire-auth-compat",[MS]:"fire-rtdb",[US]:"fire-data-connect",[kS]:"fire-rtdb-compat",[PS]:"fire-fn",[LS]:"fire-fn-compat",[xS]:"fire-iid",[zS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[jS]:"fire-perf-compat",[GS]:"fire-rc",[FS]:"fire-rc-compat",[QS]:"fire-gcs",[KS]:"fire-gcs-compat",[YS]:"fire-fst",[$S]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,tb=new Map,Rd=new Map;function oy(s,t){try{s.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function xa(s){const t=s.name;if(Rd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Rd.set(t,s);for(const n of Sc.values())oy(n,s);for(const n of tb.values())oy(n,s);return!0}function $d(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function xn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Dl("app","Firebase",eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=WS;function zv(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:wd,automaticDataCollectionEnabled:!1},t),l=r.name;if(typeof l!="string"||!l)throw Pr.create("bad-app-name",{appName:String(l)});if(n||(n=kv()),!n)throw Pr.create("no-options");const c=Sc.get(l);if(c){if(Os(n,c.options)&&Os(r,c.config))return c;throw Pr.create("duplicate-app",{appName:l})}const d=new lS(l);for(const p of Rd.values())d.addComponent(p);const g=new nb(n,r,d);return Sc.set(l,g),g}function Bv(s=wd){const t=Sc.get(s);if(!t&&s===wd&&kv())return zv();if(!t)throw Pr.create("no-app",{appName:s});return t}function Lr(s,t,n){var r;let l=(r=JS[s])!==null&&r!==void 0?r:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}xa(new Ns(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebase-heartbeat-database",rb=1,vl="firebase-heartbeat-store";let md=null;function qv(){return md||(md=TS(ib,rb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Pr.create("idb-open",{originalErrorMessage:s.message})})),md}async function sb(s){try{const n=(await qv()).transaction(vl),r=await n.objectStore(vl).get(Hv(s));return await n.done,r}catch(t){if(t instanceof Qi)Hi.warn(t.message);else{const n=Pr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(n.message)}}}async function ly(s,t){try{const r=(await qv()).transaction(vl,"readwrite");await r.objectStore(vl).put(t,Hv(s)),await r.done}catch(n){if(n instanceof Qi)Hi.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(r.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=1024,ob=30;class lb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=uy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>ob){const d=hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uy(),{heartbeatsToSend:r,unsentEntries:l}=ub(this._heartbeatsCache.heartbeats),c=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Hi.warn(n),""}}}function uy(){return new Date().toISOString().substring(0,10)}function ub(s,t=ab){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),cy(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),cy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function cy(s){return Ac(JSON.stringify({version:2,heartbeats:s})).length}function hb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(s){xa(new Ns("platform-logger",t=>new bS(t),"PRIVATE")),xa(new Ns("heartbeat",t=>new lb(t),"PRIVATE")),Lr(bd,ay,s),Lr(bd,ay,"esm2017"),Lr("fire-js","")}fb("");var db="firebase",mb="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(db,mb,"app");function Zd(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(n[r[l]]=s[r[l]]);return n}function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gb=jv,Gv=new Dl("auth","Firebase",jv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Yd("@firebase/auth");function pb(s,...t){bc.logLevel<=Dt.WARN&&bc.warn(`Auth (${Ka}): ${s}`,...t)}function hc(s,...t){bc.logLevel<=Dt.ERROR&&bc.error(`Auth (${Ka}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(s,...t){throw Jd(s,...t)}function Bn(s,...t){return Jd(s,...t)}function Wd(s,t,n){const r=Object.assign(Object.assign({},gb()),{[t]:n});return new Dl("auth","Firebase",r).create(t,{appName:s.name})}function Cs(s){return Wd(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _b(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&li(s,"argument-error"),Wd(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jd(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Gv.create(s,...t)}function _t(s,t,...n){if(!s)throw Jd(t,...n)}function xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw hc(t),new Error(t)}function ji(s,t){s||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function yb(){return hy()==="http:"||hy()==="https:"}function hy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yb()||QA()||"connection"in navigator)?navigator.onLine:!0}function Eb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ji(n>t,"Short delay should be less than long delay!"),this.isMobile=jA()||KA()}get(){return vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(s,t){ji(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Nl(3e4,6e4);function em(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Ya(s,t,n,r,l={}){return Qv(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ol(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:p},c);return FA()||(v.referrerPolicy="no-referrer"),Fv.fetch()(Kv(s,s.config.apiHost,n,g),v)})}async function Qv(s,t,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tb),t);try{const l=new bb(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw sc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw sc(s,"user-disabled",d);const A=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Wd(s,A,v);li(s,A)}}catch(l){if(l instanceof Qi)throw l;li(s,"network-request-failed",{message:String(l)})}}async function Sb(s,t,n,r,l={}){const c=await Ya(s,t,n,r,l);return"mfaPendingCredential"in c&&li(s,"multi-factor-auth-required",{_serverResponse:c}),c}function Kv(s,t,n,r){const l=`${t}${n}?${r}`;return s.config.emulator?tm(s.config,l):`${s.config.apiScheme}://${l}`}class bb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),Ab.get())})}}function sc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Bn(s,t,r);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(s,t){return Ya(s,"POST","/v1/accounts:delete",t)}async function Yv(s,t){return Ya(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Rb(s,t=!1){const n=sn(s),r=await n.getIdToken(t),l=nm(r);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:dl(gd(l.auth_time)),issuedAtTime:dl(gd(l.iat)),expirationTime:dl(gd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function gd(s){return Number(s)*1e3}function nm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mv(n);return l?JSON.parse(l):(hc("Failed to decode base64 JWT payload"),null)}catch(l){return hc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function fy(s){const t=nm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Qi&&Ib(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ib({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(s){var t;const n=s.auth,r=await s.getIdToken(),l=await El(s,Yv(n,{idToken:r}));_t(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Xv(c.providerUserInfo):[],g=Ob(s.providerData,d),p=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Cd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,C)}async function Db(s){const t=sn(s);await wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ob(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function Xv(s){return s.map(t=>{var{providerId:n}=t,r=Zd(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(s,t){const n=await Qv(s,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=Kv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Fv.fetch()(d,{method:"POST",headers:g,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vb(s,t){return Ya(s,"POST","/v2/accounts:revokeToken",em(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=fy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await Nb(t,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new Ua;return r&&(_t(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class zi{constructor(t){var{uid:n,auth:r,stsTokenManager:l}=t,c=Zd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Cd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await El(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Rb(this,t)}reload(){return Db(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Cs(this.auth));const t=await this.getIdToken();return await El(this,wb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,l,c,d,g,p,v,A;const C=(r=n.displayName)!==null&&r!==void 0?r:void 0,U=(l=n.email)!==null&&l!==void 0?l:void 0,q=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,H=(d=n.photoURL)!==null&&d!==void 0?d:void 0,Z=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,it=(v=n.createdAt)!==null&&v!==void 0?v:void 0,lt=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:gt,emailVerified:Nt,isAnonymous:pt,providerData:Rt,stsTokenManager:M}=n;_t(gt&&M,t,"internal-error");const w=Ua.fromJSON(this.name,M);_t(typeof gt=="string",t,"internal-error"),Or(C,t.name),Or(U,t.name),_t(typeof Nt=="boolean",t,"internal-error"),_t(typeof pt=="boolean",t,"internal-error"),Or(q,t.name),Or(H,t.name),Or(Z,t.name),Or($,t.name),Or(it,t.name),Or(lt,t.name);const S=new zi({uid:gt,auth:t,email:U,emailVerified:Nt,displayName:C,isAnonymous:pt,photoURL:H,phoneNumber:q,tenantId:Z,stsTokenManager:w,createdAt:it,lastLoginAt:lt});return Rt&&Array.isArray(Rt)&&(S.providerData=Rt.map(I=>Object.assign({},I))),$&&(S._redirectEventId=$),S}static async _fromIdTokenResponse(t,n,r=!1){const l=new Ua;l.updateFromServerResponse(n);const c=new zi({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await wc(c),c}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ua;g.updateFromIdToken(r);const p=new zi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function Bi(s){ji(s instanceof Function,"Expected a class definition");let t=dy.get(s);return t?(ji(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,dy.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$v.type="NONE";const my=$v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(s,t,n){return`firebase:${s}:${t}:${n}`}class ka{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=fc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ka(Bi(my),t,r);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Bi(my);const d=fc(r,t.config.apiKey,t.name);let g=null;for(const v of n)try{const A=await v._get(d);if(A){const C=zi._fromJSON(t,A);v!==c&&(g=C),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ka(c,t,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new ka(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nE(t))return"Blackberry";if(iE(t))return"Webos";if(Wv(t))return"Safari";if((t.includes("chrome/")||Jv(t))&&!t.includes("edge/"))return"Chrome";if(eE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zv(s=Ke()){return/firefox\//i.test(s)}function Wv(s=Ke()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Jv(s=Ke()){return/crios\//i.test(s)}function tE(s=Ke()){return/iemobile/i.test(s)}function eE(s=Ke()){return/android/i.test(s)}function nE(s=Ke()){return/blackberry/i.test(s)}function iE(s=Ke()){return/webos/i.test(s)}function im(s=Ke()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Mb(s=Ke()){var t;return im(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ub(){return YA()&&document.documentMode===10}function rE(s=Ke()){return im(s)||eE(s)||iE(s)||nE(s)||/windows phone/i.test(s)||tE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s,t=[]){let n;switch(s){case"Browser":n=gy(Ke());break;case"Worker":n=`${gy(Ke())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(s,t={}){return Ya(s,"GET","/v2/passwordPolicy",em(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=6;class xb{constructor(t){var n,r,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:Lb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new py(this),this.idTokenSubscription=new py(this),this.beforeStateQueue=new kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await ka.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Yv(this,{idToken:t}),r=await zi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(xn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Eb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xn(this.app))return Promise.reject(Cs(this));const n=t?sn(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Pb(this),n=new xb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vb(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&pb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qc(s){return sn(s)}class py{constructor(t){this.auth=t,this.observer=null,this.addObserver=nS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bb(s){rm=s}function qb(s){return rm.loadJS(s)}function Hb(){return rm.gapiScript}function jb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s,t){const n=$d(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Os(c,t??{}))return l;li(l,"already-initialized")}return n.initialize({options:t})}function Fb(s,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Qb(s,t,n){const r=qc(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=aE(t),{host:d,port:g}=Kb(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Os(v,r.config.emulator)&&Os(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Yb()}function aE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Kb(s){const t=aE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:_y(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:_y(d)}}}function _y(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Yb(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,n){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(s,t){return Sb(s,"POST","/v1/accounts:signInWithIdp",em(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="http://localhost";class Vs extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l}=n,c=Zd(n,["providerId","signInMethod"]);if(!r||!l)return null;const d=new Vs(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Pa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Pa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pa(t,n)}buildRequest(){const t={requestUri:Xb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ol(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends sm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Vl{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Li.credentialFromTaggedObject(t)}static credentialFromError(t){return Li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Vl{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Vl{constructor(){super("twitter.com")}static credential(t,n){return Vs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const c=await zi._fromIdTokenResponse(t,r,l),d=yy(r);return new za({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=yy(r);return new za({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function yy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Qi{constructor(t,n,r,l){var c;super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Rc(t,n,r,l)}}function lE(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(s,c,t,r):c})}async function $b(s,t,n=!1){const r=await El(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return za._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(s,t,n=!1){const{auth:r}=s;if(xn(r.app))return Promise.reject(Cs(r));const l="reauthenticate";try{const c=await El(s,lE(r,l,t,s),n);_t(c.idToken,r,"internal-error");const d=nm(c.idToken);_t(d,r,"internal-error");const{sub:g}=d;return _t(s.uid===g,r,"user-mismatch"),za._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&li(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(s,t,n=!1){if(xn(s.app))return Promise.reject(Cs(s));const r="signIn",l=await lE(s,r,t),c=await za._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}function Jb(s,t,n,r){return sn(s).onIdTokenChanged(t,n,r)}function tw(s,t,n){return sn(s).beforeAuthStateChanged(t,n)}function ew(s){return sn(s).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=1e3,iw=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Ub()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,iw):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}cE.type="LOCAL";const rw=cE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}hE.type="SESSION";const fE=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Hc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async v=>v(n.origin,c)),p=await sw(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=am("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(C){const U=C;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(U.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function ow(s){si().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function lw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function cw(){return dE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="firebaseLocalStorageDb",hw=1,Cc="firebaseLocalStorage",gE="fbase_key";class Ml{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jc(s,t){return s.transaction([Cc],t?"readwrite":"readonly").objectStore(Cc)}function fw(){const s=indexedDB.deleteDatabase(mE);return new Ml(s).toPromise()}function Dd(){const s=indexedDB.open(mE,hw);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Cc,{keyPath:gE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Cc)?t(r):(r.close(),await fw(),t(await Dd()))})})}async function vy(s,t,n){const r=jc(s,!0).put({[gE]:t,value:n});return new Ml(r).toPromise()}async function dw(s,t){const n=jc(s,!1).get(t),r=await new Ml(n).toPromise();return r===void 0?null:r.value}function Ey(s,t){const n=jc(s,!0).delete(t);return new Ml(n).toPromise()}const mw=800,gw=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>gw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(cw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await lw(),!this.activeServiceWorker)return;this.sender=new aw(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dd();return await vy(t,Ic,"1"),await Ey(t,Ic),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vy(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>dw(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ey(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=jc(l,!1).getAll();return new Ml(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const pw=pE;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(s,t){return t?Bi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends oE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _w(s){return Wb(s.auth,new om(s),s.bypassAuthState)}function yw(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),Zb(n,new om(s),s.bypassAuthState)}async function vw(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),$b(n,new om(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _w;case"linkViaPopup":case"linkViaRedirect":return vw;case"reauthViaPopup":case"reauthViaRedirect":return yw;default:li(this.auth,"internal-error")}}resolve(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Nl(2e3,1e4);async function Tw(s,t,n){if(xn(s.app))return Promise.reject(Bn(s,"operation-not-supported-in-this-environment"));const r=qc(s);_b(s,t,sm);const l=_E(r,n);return new ws(r,"signInViaPopup",t,l).executeNotNull()}class ws extends yE{constructor(t,n,r,l,c){super(t,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const t=am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ew.get())};t()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="pendingRedirect",dc=new Map;class Sw extends yE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=dc.get(this.auth._key());if(!t){try{const r=await bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}dc.set(this.auth._key(),t)}return this.bypassAuthState||dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bw(s,t){const n=Iw(t),r=Rw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function ww(s,t){dc.set(s._key(),t)}function Rw(s){return Bi(s._redirectPersistence)}function Iw(s){return fc(Aw,s.config.apiKey,s.name)}async function Cw(s,t,n=!1){if(xn(s.app))return Promise.reject(Cs(s));const r=qc(s),l=_E(r,t),d=await new Sw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=10*60*1e3;class Ow{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!vE(t)){const l=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ty(t))}saveEventToCache(t){this.cachedEventUids.add(Ty(t)),this.lastProcessedEventTime=Date.now()}}function Ty(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function vE({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Nw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(s,t={}){return Ya(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uw=/^https?/;async function kw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Vw(s);for(const n of t)try{if(Pw(n))return}catch{}li(s,"unauthorized-domain")}function Pw(s){const t=Id(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!Uw.test(n))return!1;if(Mw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Nl(3e4,6e4);function Ay(){const s=si().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function xw(s){return new Promise((t,n)=>{var r,l,c;function d(){Ay(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ay(),n(Bn(s,"network-request-failed"))},timeout:Lw.get()})}if(!((l=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=si().gapi)===null||c===void 0)&&c.load)d();else{const g=jb("iframefcb");return si()[g]=()=>{gapi.load?d():n(Bn(s,"network-request-failed"))},qb(`${Hb()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw mc=null,t})}let mc=null;function zw(s){return mc=mc||xw(s),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Nl(5e3,15e3),qw="__/auth/iframe",Hw="emulator/auth/iframe",jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?tm(t,Hw):`https://${s.config.authDomain}/${qw}`,r={apiKey:t.apiKey,appName:s.name,v:Ka},l=Gw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Ol(r).slice(1)}`}async function Qw(s){const t=await zw(s),n=si().gapi;return _t(n,s,"internal-error"),t.open({where:document.body,url:Fw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bn(s,"network-request-failed"),g=si().setTimeout(()=>{c(d)},Bw.get());function p(){si().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yw=500,Xw=600,$w="_blank",Zw="http://localhost";class Sy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ww(s,t,n,r=Yw,l=Xw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Kw),{width:r.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();n&&(g=Jv(v)?$w:n),Zv(v)&&(t=t||Zw,p.scrollbars="yes");const A=Object.entries(p).reduce((U,[q,H])=>`${U}${q}=${H},`,"");if(Mb(v)&&g!=="_self")return Jw(t||"",g),new Sy(null);const C=window.open(t||"",g,A);_t(C,s,"popup-blocked");try{C.focus()}catch{}return new Sy(C)}function Jw(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="__/auth/handler",eR="emulator/auth/handler",nR=encodeURIComponent("fac");async function by(s,t,n,r,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ka,eventId:l};if(t instanceof sm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",eS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof Vl){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await s._getAppCheckToken(),v=p?`#${nR}=${encodeURIComponent(p)}`:"";return`${iR(s)}?${Ol(g).slice(1)}${v}`}function iR({config:s}){return s.emulator?tm(s,eR):`https://${s.authDomain}/${tR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=Cw,this._overrideRedirectResult=ww}async _openPopup(t,n,r,l){var c;ji((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await by(t,n,r,Id(),l);return Ww(t,d,am())}async _openRedirect(t,n,r,l){await this._originValidation(t);const c=await by(t,n,r,Id(),l);return ow(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ji(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Qw(t),r=new Ow(t);return n.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pd,{type:pd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[pd];d!==void 0&&n(!!d),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return rE()||Wv()||im()}}const sR=rR;var wy="@firebase/auth",Ry="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lR(s){xa(new Ns("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},v=new zb(r,l,c,p);return Fb(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),xa(new Ns("auth-internal",t=>{const n=qc(t.getProvider("auth").getImmediate());return(r=>new aR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(wy,Ry,oR(s)),Lr(wy,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=5*60,cR=Pv("authIdTokenMaxAge")||uR;let Iy=null;const hR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cR)return;const l=n==null?void 0:n.token;Iy!==l&&(Iy=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function fR(s=Bv()){const t=$d(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Gb(s,{popupRedirectResolver:sR,persistence:[pw,rw,fE]}),r=Pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=hR(c.toString());tw(n,d,()=>d(n.currentUser)),Jb(n,g=>d(g))}}const l=Uv("auth");return l&&Qb(n,`http://${l}`),n}function dR(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}Bb({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Bn("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",dR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lR("Browser");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,EE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function S(){}S.prototype=w.prototype,M.D=w.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(I,V,L){for(var R=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)R[_e-2]=arguments[_e];return w.prototype[V].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)I[V]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(V=0;16>V;++V)I[V]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=M.g[0],S=M.g[1],V=M.g[2];var L=M.g[3],R=w+(L^S&(V^L))+I[0]+3614090360&4294967295;w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[2]+606105819&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[3]+3250441966&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+I[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[6]+2821735955&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[7]+4249261313&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+I[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[10]+4294925233&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[11]+2304563134&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+I[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[14]+2792965006&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[15]+1236535329&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(V^L&(S^V))+I[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[11]+643717713&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[0]+3921069994&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+I[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[15]+3634488961&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[4]+3889429448&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+I[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[3]+4107603335&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[8]+1163531501&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+I[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[7]+1735328473&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[12]+2368359562&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(S^V^L)+I[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[11]+1839030562&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[14]+4259657740&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+I[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[7]+4139469664&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[10]+3200236656&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+I[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[3]+3572445317&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[6]+76029189&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+I[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[15]+530742520&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[2]+3299628645&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(V^(S|~L))+I[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[14]+2878612391&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[5]+4237533241&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+I[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[10]+4293915773&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[1]+2240044497&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+I[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[6]+2734768916&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[13]+1309151649&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+I[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[2]+718787259&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+L&4294967295}r.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var S=w-this.blockSize,I=this.B,V=this.h,L=0;L<w;){if(V==0)for(;L<=S;)l(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<w;)if(I[V++]=M.charCodeAt(L++),V==this.blockSize){l(this,I),V=0;break}}else for(;L<w;)if(I[V++]=M[L++],V==this.blockSize){l(this,I),V=0;break}}this.h=V,this.o+=w},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var S=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=S&255,S/=256;for(this.u(M),M=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)M[S++]=this.g[w]>>>I&255;return M};function c(M,w){var S=g;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=w(M)}function d(M,w){this.h=w;for(var S=[],I=!0,V=M.length-1;0<=V;V--){var L=M[V]|0;I&&L==w||(S[V]=L,I=!1)}this.g=S}var g={};function p(M){return-128<=M&&128>M?c(M,function(w){return new d([w|0],0>w?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return $(v(-M));for(var w=[],S=1,I=0;M>=S;I++)w[I]=M/S|0,S*=4294967296;return new d(w,0)}function A(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return $(A(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(w,8)),I=C,V=0;V<M.length;V+=8){var L=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+L),w);8>L?(L=v(Math.pow(w,L)),I=I.j(L).add(v(R))):(I=I.j(S),I=I.add(v(R)))}return I}var C=p(0),U=p(1),q=p(16777216);s=d.prototype,s.m=function(){if(Z(this))return-$(this).m();for(var M=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);M+=(0<=I?I:4294967296+I)*w,w*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(H(this))return"0";if(Z(this))return"-"+$(this).toString(M);for(var w=v(Math.pow(M,6)),S=this,I="";;){var V=Nt(S,w).g;S=it(S,V.j(w));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,H(S))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function H(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function Z(M){return M.h==-1}s.l=function(M){return M=it(this,M),Z(M)?-1:H(M)?0:1};function $(M){for(var w=M.g.length,S=[],I=0;I<w;I++)S[I]=~M.g[I];return new d(S,~M.h).add(U)}s.abs=function(){return Z(this)?$(this):this},s.add=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0,V=0;V<=w;V++){var L=I+(this.i(V)&65535)+(M.i(V)&65535),R=(L>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=R>>>16,L&=65535,R&=65535,S[V]=R<<16|L}return new d(S,S[S.length-1]&-2147483648?-1:0)};function it(M,w){return M.add($(w))}s.j=function(M){if(H(this)||H(M))return C;if(Z(this))return Z(M)?$(this).j($(M)):$($(this).j(M));if(Z(M))return $(this.j($(M)));if(0>this.l(q)&&0>M.l(q))return v(this.m()*M.m());for(var w=this.g.length+M.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var L=this.i(I)>>>16,R=this.i(I)&65535,_e=M.i(V)>>>16,ce=M.i(V)&65535;S[2*I+2*V]+=R*ce,lt(S,2*I+2*V),S[2*I+2*V+1]+=L*ce,lt(S,2*I+2*V+1),S[2*I+2*V+1]+=R*_e,lt(S,2*I+2*V+1),S[2*I+2*V+2]+=L*_e,lt(S,2*I+2*V+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new d(S,0)};function lt(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function gt(M,w){this.g=M,this.h=w}function Nt(M,w){if(H(w))throw Error("division by zero");if(H(M))return new gt(C,C);if(Z(M))return w=Nt($(M),w),new gt($(w.g),$(w.h));if(Z(w))return w=Nt(M,$(w)),new gt($(w.g),w.h);if(30<M.g.length){if(Z(M)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var S=U,I=w;0>=I.l(M);)S=pt(S),I=pt(I);var V=Rt(S,1),L=Rt(I,1);for(I=Rt(I,2),S=Rt(S,2);!H(I);){var R=L.add(I);0>=R.l(M)&&(V=V.add(S),L=R),I=Rt(I,1),S=Rt(S,1)}return w=it(M,V.j(w)),new gt(V,w)}for(V=C;0<=M.l(w);){for(S=Math.max(1,Math.floor(M.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=v(S),R=L.j(w);Z(R)||0<R.l(M);)S-=I,L=v(S),R=L.j(w);H(L)&&(L=U),V=V.add(L),M=it(M,R)}return new gt(V,M)}s.A=function(M){return Nt(this,M).h},s.and=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&M.i(I);return new d(S,this.h&M.h)},s.or=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|M.i(I);return new d(S,this.h|M.h)},s.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^M.i(I);return new d(S,this.h^M.h)};function pt(M){for(var w=M.g.length+1,S=[],I=0;I<w;I++)S[I]=M.i(I)<<1|M.i(I-1)>>>31;return new d(S,M.h)}function Rt(M,w){var S=w>>5;w%=32;for(var I=M.g.length-S,V=[],L=0;L<I;L++)V[L]=0<w?M.i(L+S)>>>w|M.i(L+S+1)<<32-w:M.i(L+S);return new d(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,xr=d}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TE,ul,AE,gc,Od,SE,bE,wE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,P={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function C(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function U(u,m,_){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,U.apply(null,arguments)}function q(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function H(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,P,B){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[P].apply(T,W)}}function Z(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const P=u.length||0,B=T.length||0;u.length=P+B;for(let W=0;W<B;W++)u[P+W]=T[W]}else u.push(T)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function gt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var pt=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function Rt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let B=0;B<S.length;B++)_=S[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){g.setTimeout(()=>{throw u},0)}function R(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,_){const T=ce.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new it(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ct=!1,qt=new _e,D=()=>{const u=g.Promise.resolve(void 0);dt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){L(_)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function St(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Nt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}H(St,tt);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ne(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++Lt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,T,P){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var W=mn(u,m,T,P);return-1<W?(m=u[W],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,P),m.fa=_,u.push(m)),m};function ci(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=P)&&Array.prototype.splice.call(T,P,1),B&&(Gt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function mn(u,m,_,T){for(var P=0;P<u.length;++P){var B=u[P];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return P}return-1}var Ki="closure_lm_"+(1e6*Math.random()|0),Yi={};function hi(u,m,_,T,P){if(Array.isArray(m)){for(var B=0;B<m.length;B++)hi(u,m[B],_,T,P);return null}return _=xl(_),u&&u[he]?u.K(m,_,v(T)?!!T.capture:!1,P):to(u,m,_,!1,T,P)}function to(u,m,_,T,P,B){if(!m)throw Error("Invalid event type");var W=v(P)?!!P.capture:!!P,Mt=eo(u);if(Mt||(u[Ki]=Mt=new Ye(u)),_=Mt.add(m,_,T,W,B),_.proxy)return _;if(T=Bs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)et||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Hs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bs(){function u(_){return m.call(u.src,u.listener,_)}const m=sh;return u}function qs(u,m,_,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)qs(u,m[B],_,T,P);else T=v(T)?!!T.capture:!!T,_=xl(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=mn(B,_,T,P),-1<_&&(Gt(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=eo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mn(m,_,T,P)),(_=-1<u?m[u]:null)&&Qr(_))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])ci(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Hs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=eo(m))?(ci(_,u),_.h==0&&(_.src=null,m[Ki]=null)):Gt(u)}}}function Hs(u){return u in Yi?Yi[u]:Yi[u]="on"+u}function sh(u,m){if(u.da)u=!0;else{m=new St(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Qr(u),u=_.call(T,m)}return u}function eo(u){return u=u[Ki],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function ye(){ot.call(this),this.i=new Ye(this),this.M=this,this.F=null}H(ye,ot),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){qs(this,u,m,_,T)};function Re(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var P=m;m=new tt(T,u),I(m,P)}if(P=!0,_)for(var B=_.length-1;0<=B;B--){var W=m.g=_[B];P=fi(W,T,!0,m)&&P}if(W=m.g=u,P=fi(W,T,!0,m)&&P,P=fi(W,T,!1,m)&&P,_)for(B=0;B<_.length;B++)W=m.g=_[B],P=fi(W,T,!1,m)&&P}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Gt(_[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,B=0;B<m.length;++B){var W=m[B];if(W&&!W.da&&W.capture==_){var Mt=W.listener,Ee=W.ha||W.src;W.fa&&ci(u.i,W),P=Mt.call(Ee,T)!==!1&&P}}return P&&!T.defaultPrevented}function zl(u,m,_){if(typeof u=="function")_&&(u=U(u,_));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function no(u){u.g=zl(()=>{u.g=null,u.i&&(u.i=!1,no(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ah extends ot{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){ot.call(this),this.h=u,this.g={}}H(Kr,ot);var Xi=[];function qe(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qr(m)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),qe(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=g.JSON.stringify,Hn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ro(){}ro.prototype.h=null;function Bl(u){return u.h||(u.h=u.i())}function ql(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){tt.call(this,"d")}H($i,tt);function Vn(){tt.call(this,"c")}H(Vn,tt);var gn={},Zi=null;function js(){return Zi=Zi||new ye}gn.La="serverreachability";function so(u){tt.call(this,gn.La,u)}H(so,tt);function Wi(u){const m=js();Re(m,new so(m))}gn.STAT_EVENT="statevent";function Gs(u,m){tt.call(this,gn.STAT_EVENT,u),this.stat=m}H(Gs,tt);function oe(u){const m=js();Re(m,new Gs(m,u))}gn.Ma="timingevent";function Hl(u,m){tt.call(this,gn.Ma,u),this.size=m}H(Hl,tt);function Ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function tr(){this.g=!0}tr.prototype.xa=function(){this.g=!1};function jl(u,m,_,T,P,B){u.info(function(){if(u.g)if(B)for(var W="",Mt=B.split("&"),Ee=0;Ee<Mt.length;Ee++){var Ut=Mt[Ee].split("=");if(1<Ut.length){var De=Ut[0];Ut=Ut[1];var Te=De.split("_");W=2<=Te.length&&Te[1]=="type"?W+(De+"="+Ut+"&"):W+(De+"=redacted&")}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+W})}function Gl(u,m,_,T,P,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+B+" "+W})}function er(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,_)+(T?" "+T:"")})}function Gn(u,m){u.info(function(){return"TIMEOUT: "+m})}tr.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var B=P[0];if(B!="noop"&&B!="stop"&&B!="close")for(var W=1;W<P.length;W++)P[W]=""}}}}return io(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Fs(){}H(Fs,ro),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},Yr=new Fs;function Fn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}var nr={},Xr={};function Mn(u,m,_){u.L=1,u.v=Wr(ie(m)),u.m=_,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),_i(_.i,"t",T),u.C=0,_=u.j.J,u.h=new ao,u.g=ru(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ah(U(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Xi[0]=P.toString()),P=Xi);for(var B=0;B<P.length;B++){var W=hi(_,P[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),jl(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ti?Wi(3):Wi(2)),Qs(this);var _=this.g.Z();this.X=_;e:if(ir(this)){var T=$l(this.g);u="";var P=T.length,B=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),an(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,Gl(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Mt)){var Ut=Mt;break e}}Ut=null}if(_=Ut)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,_);else{this.o=!1,this.s=3,oe(12),en(this),an(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=rr(this,W),Ue==Xr){Te==4&&(this.s=4,oe(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==nr){this.s=4,oe(15),er(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,Ue,null),on(this,Ue);if(ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,W,"[Invalid Chunked Response]"),en(this),an(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ss(De),De.M=!0,oe(11))}}else er(this.i,this.l,W,null),on(this,W);Te==4&&en(this),this.o&&!this.J&&(Te==4?eu(this.j,this):(this.o=!1,Wt(this)))}else fh(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),an(this)}}}catch{}finally{}};function ir(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Xr:(_=Number(m.substring(_,T)),isNaN(_)?nr:(T+=1,T+_>m.length?Xr:(m=m.slice(T,T+_),u.C=T+_,m)))}Fn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,oo(u,u.I)}function oo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ji(U(u.ba,u),m)}function Qs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gn(this.i,this.A),this.L!=2&&(Wi(),oe(17)),en(this),this.s=2,an(this)):oo(this,this.S-u)};function an(u){u.j.G==0||u.J||eu(u.j,u)}function en(u){Qs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function on(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||sr(_.h,u))){if(!u.K&&sr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)na(_),ta(_);else break t;vo(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(U(_.Za,_),6e3));if(1>=Fl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&na(_),!lt(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let Ut=P[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const De=Ut[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Te=Ut[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ti=Ut[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ue=u.g;if(Ue){const Wn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var B=T.h;B.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ar(B,B.h),B.h=null))}if(T.D){const To=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(T.ya=To,xt(T.I,T.D,To))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var W=u;if(T.qa=iu(T,T.J?T.ia:null,T.W),W.K){pn(T.h,W);var Mt=W,Ee=T.L;Ee&&(Mt.I=Ee),Mt.B&&(Qs(Mt),Wt(Mt)),T.g=W}else Jl(T);0<_.i.length&&ea(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Ei(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ei(_,7):_o(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Wi(4)}catch{}}var oh=class{constructor(u,m){this.g=u,this.map=m}};function lo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fl(u){return u.h?1:u.g?u.g.size:0}function sr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ar(u,m){u.g?u.g.add(m):u.h=m}function pn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}lo.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return Z(u.i)}function Ql(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function lh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=lh(u),T=Ql(u),P=T.length,B=0;B<P;B++)m.call(void 0,T[B],_&&_[B],u)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),P=null;if(0<=T){var B=u[_].substring(0,T);P=u[_].substring(T+1)}else B=u[_];m(B,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,Zr(this,u.s),this.l=u.l;var m=u.i,_=new Qn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ys(this,_),this.m=u.m}else u&&(m=String(u).match(co))?(this.h=!1,or(this,m[1]||"",!0),this.o=lr(m[2]||""),this.g=lr(m[3]||"",!0),Zr(this,m[4]),this.l=lr(m[5]||"",!0),Ys(this,m[6]||"",!0),this.m=lr(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(_n(m,ho,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_n(m,ho,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_n(_,_.charAt(0)=="/"?fo:Kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_n(_,hh)),u.join("")};function ie(u){return new gi(u)}function or(u,m,_){u.j=_?lr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ys(u,m,_){m instanceof Qn?(u.i=m,mo(u.i,u.h)):(_||(m=_n(m,ch)),u.i=new Qn(m,u.h))}function xt(u,m,_){u.i.set(m,_)}function Wr(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _n(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,uh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ho=/[#\/\?@]/g,Kl=/[#\?:]/g,fo=/[#\?]/g,ch=/[#\?@]/g,hh=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ks(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Qn.prototype,s.add=function(u,m){yn(this),this.i=null,u=yi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Xs(u,m){yn(u),m=yi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return yn(u),m=yi(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)},s.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const P=u[T];for(let B=0;B<P.length;B++)_.push(m[T])}return _},s.V=function(u){yn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return yn(this),this.i=null,u=yi(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function _i(u,m,_){Xs(u,m),0<_.length&&(u.i=null,u.g.set(yi(u,m),Z(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var P=B;W[T]!==""&&(P+="="+encodeURIComponent(String(W[T]))),u.push(P)}}return this.i=u.join("&")};function yi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function mo(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,T){var P=T.toLowerCase();T!=P&&(Xs(this,T),_i(this,P,_))},u)),u.j=m}function Yl(u,m){const _=new tr;if(g.Image){const T=new Image;T.onload=q(vn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=q(vn,_,"TestLoadImage: error",!1,m,T),T.onabort=q(vn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(vn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Jr(u,m){const _=new tr,T=new AbortController,P=setTimeout(()=>{T.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function ts(){this.g=new Xe}function Kn(u,m,_){const T=_||"";try{$r(u,function(P,B){let W=P;v(P)&&(W=io(P)),m.push(T+B+"="+encodeURIComponent(W))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function ur(u){this.l=u.Ub||null,this.j=u.eb||!1}H(ur,ro),ur.prototype.g=function(){return new vi(this.l,this.j)},ur.prototype.i=function(u){return function(){return u}}({});function vi(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(vi,ye),s=vi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&go(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},s.Qa=function(u){this.g&&(this.response=u,Yn(this))},s.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function po(u){let m="";return Rt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=po(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):xt(u,m,_))}function Ht(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Ht,ye);var $s=/^https?$/i,es=["POST","PUT"];s=Ht.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Bl(this.o):Bl(Yr),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Xl(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Xl(this,B)}};function Xl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zs(u),$n(u)}function Zs(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),$n(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ws(this):this.bb())},s.bb=function(){Ws(this)};function Ws(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)zl(u.Ea,0,u);else if(Re(u,"readystatechange"),En(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=W===0){var P=String(u.D).match(co)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!$s.test(P?P.toLowerCase():"")}_=T}if(_)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var B=2<En(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Zs(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ns(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{_.onreadystatechange=T}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hn(m)}};function $l(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var _=V(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[P]||[];m[P]=B,B.push(_)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Js(u){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new lo(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Js.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,T){oe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=iu(this,null,this.W),ea(this)};function _o(u){if(Zl(u),u.G==3){var m=u.U++,_=ie(u.I);if(xt(_,"SID",u.K),xt(_,"RID",m),xt(_,"TYPE","terminate"),rs(u,_),m=new Fn(u,u.j,m),m.L=2,m.v=Wr(ie(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}nu(u)}function ta(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function Zl(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ea(u){if(!uo(u.h)&&!u.s){u.s=!0;var m=u.Ga;dt||D(),ct||(dt(),ct=!0),qt.add(m,u),u.B=0}}function dh(u,m){return Fl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ji(U(u.Ga,u,m),Eo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Fn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(P.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Wl(this,P,m),_=ie(this.I),xt(_,"RID",u),xt(_,"CVER",22),this.D&&xt(_,"X-HTTP-Session-Id",this.D),rs(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(po(B)))+"&"+m:this.m&&Ce(_,this.m,B)),ar(this.h,P),this.Ua&&xt(_,"TYPE","init"),this.P?(xt(_,"$req",m),xt(_,"SID","null"),P.T=!0,Mn(P,_,null)):Mn(P,_,m),this.G=2}}else this.G==3&&(u?yo(this,u):this.i.length==0||uo(this.h)||yo(this))};function yo(u,m){var _;m?_=m.l:_=u.U++;const T=ie(u.I);xt(T,"SID",u.K),xt(T,"RID",_),xt(T,"AID",u.T),rs(u,T),u.m&&u.o&&Ce(T,u.m,u.o),_=new Fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ar(u.h,_),Mn(_,T,m)}function rs(u,m){u.H&&Rt(u.H,function(_,T){xt(m,T,_)}),u.l&&$r({},function(_,T){xt(m,T,_)})}function Wl(u,m,_){_=Math.min(u.i.length,_);var T=u.l?U(u.l.Na,u.l,u):null;t:{var P=u.i;let B=-1;for(;;){const W=["count="+_];B==-1?0<_?(B=P[0].g,W.push("ofs="+B)):B=0:W.push("ofs="+B);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let Ut=P[Ee].g;const De=P[Ee].map;if(Ut-=B,0>Ut)B=Math.max(0,P[Ee].g-100),Mt=!1;else try{Kn(De,W,"req"+Ut+"_")}catch{T&&T(De)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Jl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;dt||D(),ct||(dt(),ct=!0),qt.add(m,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ji(U(u.Fa,u),Eo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ji(U(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ta(this),tu(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);xt(m,"RID","rpc"),xt(m,"SID",u.K),xt(m,"AID",u.T),xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(m,"TO",u.ja),xt(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Wr(ie(m)),_.m=null,_.P=!0,mi(_,u)}s.Za=function(){this.C!=null&&(this.C=null,ta(this),vo(this),oe(19))};function na(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function eu(u,m){var _=null;if(u.g==m){na(u),ss(u),u.g=null;var T=2}else if(sr(u.h,m))_=m.D,pn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=js(),Re(T,new Hl(T,_)),ea(u)}else Jl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&dh(u,m)||T==2&&vo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Eo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=U(u.fb,u),T=u.Xa;const P=!T;T=new gi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||or(T,"https"),Wr(T),P?Yl(T.toString(),_):Jr(T.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),nu(u),Zl(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function nu(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,_){var T=_ instanceof gi?ie(_):new gi(_);if(T.g!="")m&&(T.g=m+"."+T.g),Zr(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var B=new gi(null);T&&or(B,T),m&&(B.g=m),P&&Zr(B,P),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&xt(T,_,m),xt(T,"VER",u.la),rs(u,T),T}function ru(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new ur({eb:_})):new Ht(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}s=su.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ye.call(this),this.g=new Js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}H(Ze,ye),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){_o(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=io(u),u=_);m.i.push(new oh(m.Ya++,u)),m.G==3&&ea(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,Ze.aa.N.call(this)};function au(u){$i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(au,$i);function ou(){Vn.call(this),this.status=1}H(ou,Vn);function Zn(u){this.g=u}H(Zn,su),Zn.prototype.ua=function(){Re(this.g,"a")},Zn.prototype.ta=function(u){Re(this.g,new au(u))},Zn.prototype.sa=function(u){Re(this.g,new ou)},Zn.prototype.ra=function(){Re(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,wE=function(){return new ia},bE=function(){return js()},SE=gn,Od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,gc=ve,di.COMPLETE="complete",AE=di,ql.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,ul=ql,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,TE=Ht}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",Oy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Yd("@firebase/firestore");function Oa(){return Ms.logLevel}function nt(s,...t){if(Ms.logLevel<=Dt.DEBUG){const n=t.map(lm);Ms.debug(`Firestore (${Xa}): ${s}`,...n)}}function Gi(s,...t){if(Ms.logLevel<=Dt.ERROR){const n=t.map(lm);Ms.error(`Firestore (${Xa}): ${s}`,...n)}}function Ba(s,...t){if(Ms.logLevel<=Dt.WARN){const n=t.map(lm);Ms.warn(`Firestore (${Xa}): ${s}`,...n)}}function lm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s="Unexpected state"){const t=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: `+s;throw Gi(t),new Error(t)}function jt(s,t){s||mt()}function Et(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class gR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pR{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ds,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ds)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string"),new RE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string"),new Fe(t)}}class _R{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yR{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new _R(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0);const r=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ny(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string"),this.R=n.token,new Ny(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ER(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=t.charAt(l[c]%62))}return r}}function wt(s,t){return s<t?-1:s>t?1:0}function Nd(s,t){let n=0;for(;n<s.length&&n<t.length;){const r=s.codePointAt(n),l=t.codePointAt(n);if(r!==l){if(r<128&&l<128)return wt(r,l);{const c=IE(),d=TR(c.encode(Vy(s,n)),c.encode(Vy(t,n)));return d!==0?d:wt(r,l)}}n+=r>65535?2:1}return wt(s.length,t.length)}function Vy(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function TR(s,t){for(let n=0;n<s.length&&n<t.length;++n)if(s[n]!==t[n])return wt(s[n],t[n]);return wt(s.length,t.length)}function qa(s,t,n){return s.length===t.length&&s.every((r,l)=>n(r,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,Uy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Uy);return new be(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<My)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uy}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-My;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new be(0,0))}static max(){return new yt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&mt(),r===void 0?r=t.length-n:r>t.length-n&&mt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return wt(t.length,n.length)}static compareSegments(t,n){const r=ri.isNumericId(t),l=ri.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Nd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class Zt extends ri{construct(t,n,r){return new Zt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(l=>l.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ri{construct(t,n,r){return new ze(t,n,r)}static isValidIdentifier(t){return AR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new ze([ky])}static fromServerFormat(t){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Zt.fromString(t))}static fromName(t){return new ht(Zt.fromString(t).popFirst(5))}static empty(){return new ht(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function SR(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Br(l,ht.empty(),t)}function bR(s){return new Br(s.readTime,s.key,Tl)}class Br{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(yt.min(),ht.empty(),Tl)}static max(){return new Br(yt.max(),ht.empty(),Tl)}}function wR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(s.documentKey,t.documentKey),n!==0?n:wt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==RR)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,r)=>{n(t)})}static reject(t){return new Q((n,r)=>{r(t)})}static waitFor(t){return new Q((n,r)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>r(p))}),d=!0,c===l&&n()})}static or(t){let n=Q.resolve(!1);for(const r of t)n=n.next(l=>l?Q.resolve(l):r());return n}static forEach(t,n){const r=[];return t.forEach((l,c)=>{r.push(n.call(this,l,c))}),this.waitFor(r)}static mapArray(t,n){return new Q((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;n(t[v]).next(A=>{d[v]=A,++g,g===c&&r(d)},A=>l(A))}})}static doWhile(t,n){return new Q((r,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):r()};c()})}}function CR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Gc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=-1;function Fc(s){return s==null}function Dc(s){return s===0&&1/s==-1/0}function DR(s){return typeof s=="number"&&Number.isInteger(s)&&!Dc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function OR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Py(t)),t=NR(s.get(n),t);return Py(t)}function NR(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case DE:n+="";break;default:n+=c}}return n}function Py(s){return s+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ks(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function OE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||xe.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oc(this.root,t,this.comparator,!0)}}class oc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?r(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,n,r,l,c){this.key=t,this.value=n,this.color=r??xe.RED,this.left=l??xe.EMPTY,this.right=c??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,c){return new xe(t??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(t,n,r,l,c){return this}insert(t,n,r){return new xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(t){return new xy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class xy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new zn([])}unionWith(t){let n=new we(ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NE("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(s){if(jt(!!s),typeof s=="string"){let t=0;const n=VR.exec(s);if(jt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Hr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="server_timestamp",ME="__type__",UE="__previous_value__",kE="__local_write_time__";function cm(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[ME])===null||n===void 0?void 0:n.stringValue)===VE}function Qc(s){const t=s.mapValue.fields[UE];return cm(t)?Qc(t):t}function Al(s){const t=qr(s.mapValue.fields[kE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n,r,l,c,d,g,p,v){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const Oc="(default)";class Sl{constructor(t,n){this.projectId=t,this.database=n||Oc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="__type__",UR="__max__",lc={mapValue:{}},LE="__vector__",Nc="value";function jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?cm(s)?4:PR(s)?9007199254740991:kR(s)?10:11:mt()}function ui(s,t){if(s===t)return!0;const n=jr(s);if(n!==jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Al(s).isEqual(Al(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=qr(l.timestampValue),g=qr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return Hr(l.bytesValue).isEqual(Hr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return ue(l.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ue(l.integerValue)===ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ue(l.doubleValue),g=ue(c.doubleValue);return d===g?Dc(d)===Dc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return qa(s.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Ly(d)!==Ly(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ui(d[p],g[p])))return!1;return!0}(s,t);default:return mt()}}function bl(s,t){return(s.values||[]).find(n=>ui(n,t))!==void 0}function Ha(s,t){if(s===t)return 0;const n=jr(s),r=jr(t);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ue(c.integerValue||c.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,t);case 3:return zy(s.timestampValue,t.timestampValue);case 4:return zy(Al(s),Al(t));case 5:return Nd(s.stringValue,t.stringValue);case 6:return function(c,d){const g=Hr(c),p=Hr(d);return g.compareTo(p)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=wt(g[v],p[v]);if(A!==0)return A}return wt(g.length,p.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const g=wt(ue(c.latitude),ue(d.latitude));return g!==0?g:wt(ue(c.longitude),ue(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return By(s.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const C=c.fields||{},U=d.fields||{},q=(g=C[Nc])===null||g===void 0?void 0:g.arrayValue,H=(p=U[Nc])===null||p===void 0?void 0:p.arrayValue,Z=wt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=H==null?void 0:H.values)===null||A===void 0?void 0:A.length)||0);return Z!==0?Z:By(q,H)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===lc.mapValue&&d===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(d===lc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const U=Nd(p[C],A[C]);if(U!==0)return U;const q=Ha(g[p[C]],v[A[C]]);if(q!==0)return q}return wt(p.length,A.length)}(s.mapValue,t.mapValue);default:throw mt()}}function zy(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return wt(s,t);const n=qr(s),r=qr(t),l=wt(n.seconds,r.seconds);return l!==0?l:wt(n.nanos,r.nanos)}function By(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Ha(n[l],r[l]);if(c)return c}return wt(n.length,r.length)}function ja(s){return Vd(s)}function Vd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Hr(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ht.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Vd(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Vd(n.fields[d])}`;return l+"}"}(s.mapValue):mt()}function pc(s){switch(jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qc(s);return t?16+pc(t):16;case 5:return 2*s.stringValue.length;case 6:return Hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,c)=>l+pc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return ks(r.fields,(c,d)=>{l+=c.length+pc(d)}),l}(s.mapValue);default:throw mt()}}function qy(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Md(s){return!!s&&"integerValue"in s}function hm(s){return!!s&&"arrayValue"in s}function Hy(s){return!!s&&"nullValue"in s}function jy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function _c(s){return!!s&&"mapValue"in s}function kR(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[PE])===null||n===void 0?void 0:n.stringValue)===LE}function ml(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return ks(s.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ml(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ml(s.arrayValue.values[n]);return t}return Object.assign({},s)}function PR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_c(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(n)}setAll(t){let n=ze.emptyPath(),r={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=ml(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(t){const n=this.field(t.popLast());_c(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];_c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){ks(n,(l,c)=>t[l]=c);for(const l of r)delete t[l]}clone(){return new Nn(ml(this.value))}}function xE(s){const t=[];return ks(s.fields,(n,r)=>{const l=new ze([n]);if(_c(r)){const c=xE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,r,l,c,d,g){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,yt.min(),yt.min(),yt.min(),Nn.empty(),0)}static newFoundDocument(t,n,r,l){return new Qe(t,1,n,yt.min(),r,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,yt.min(),yt.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,yt.min(),yt.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n){this.position=t,this.inclusive=n}}function Gy(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),n.key):r=Ha(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fy(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ui(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n="asc"){this.field=t,this.dir=n}}function LR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class pe extends zE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new zR(t,n,r):n==="array-contains"?new HR(t,r):n==="in"?new jR(t,r):n==="not-in"?new GR(t,r):n==="array-contains-any"?new FR(t,r):new pe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new BR(t,r):new qR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends zE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new qn(t,n)}matches(t){return BE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function BE(s){return s.op==="and"}function qE(s){return xR(s)&&BE(s)}function xR(s){for(const t of s.filters)if(t instanceof qn)return!1;return!0}function Ud(s){if(s instanceof pe)return s.field.canonicalString()+s.op.toString()+ja(s.value);if(qE(s))return s.filters.map(t=>Ud(t)).join(",");{const t=s.filters.map(n=>Ud(n)).join(",");return`${s.op}(${t})`}}function HE(s,t){return s instanceof pe?function(r,l){return l instanceof pe&&r.op===l.op&&r.field.isEqual(l.field)&&ui(r.value,l.value)}(s,t):s instanceof qn?function(r,l){return l instanceof qn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((c,d,g)=>c&&HE(d,l.filters[g]),!0):!1}(s,t):void mt()}function jE(s){return s instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(s):s instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(jE).join(" ,")+"}"}(s):"Filter"}class zR extends pe{constructor(t,n,r){super(t,n,r),this.key=ht.fromName(r.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class BR extends pe{constructor(t,n){super(t,"in",n),this.keys=GE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class qR extends pe{constructor(t,n){super(t,"not-in",n),this.keys=GE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function GE(s,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class HR extends pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return hm(n)&&bl(n.arrayValue,this.value)}}class jR extends pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class GR extends pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!bl(this.value.arrayValue,n)}}class FR extends pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function Qy(s,t=null,n=[],r=[],l=null,c=null,d=null){return new QR(s,t,n,r,l,c,d)}function fm(s){const t=Et(s);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ud(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),Fc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ja(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ja(r)).join(",")),t.le=n}return t.le}function dm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!LR(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!HE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Fy(s.startAt,t.startAt)&&Fy(s.endAt,t.endAt)}function kd(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KR(s,t,n,r,l,c,d,g){return new Wa(s,t,n,r,l,c,d,g)}function mm(s){return new Wa(s)}function Ky(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function FE(s){return s.collectionGroup!==null}function gl(s){const t=Et(s);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new wl(c,r))}),n.has(ze.keyField().canonicalString())||t.he.push(new wl(ze.keyField(),r))}return t.he}function ai(s){const t=Et(s);return t.Pe||(t.Pe=YR(t,gl(s))),t.Pe}function YR(s,t){if(s.limitType==="F")return Qy(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new wl(l.field,c)});const n=s.endAt?new Vc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Vc(s.startAt.position,s.startAt.inclusive):null;return Qy(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Pd(s,t){const n=s.filters.concat([t]);return new Wa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Ld(s,t,n){return new Wa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Kc(s,t){return dm(ai(s),ai(t))&&s.limitType===t.limitType}function QE(s){return`${fm(ai(s))}|lt:${s.limitType}`}function Na(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(l=>jE(l)).join(", ")}]`),Fc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(l=>ja(l)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(l=>ja(l)).join(",")),`Target(${r})`}(ai(s))}; limitType=${s.limitType})`}function Yc(s,t){return t.isFoundDocument()&&function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,l){for(const c of gl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(r,l){return!(r.startAt&&!function(d,g,p){const v=Gy(d,g,p);return d.inclusive?v<=0:v<0}(r.startAt,gl(r),l)||r.endAt&&!function(d,g,p){const v=Gy(d,g,p);return d.inclusive?v>=0:v>0}(r.endAt,gl(r),l))}(s,t)}function XR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KE(s){return(t,n)=>{let r=!1;for(const l of gl(s)){const c=$R(l,t,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function $R(s,t,n){const r=s.field.isKeyField()?ht.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Ha(p,v):mt()}(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,(n,r)=>{for(const[l,c]of r)t(l,c)})}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new ee(ht.comparator);function Fi(){return ZR}const YE=new ee(ht.comparator);function cl(...s){let t=YE;for(const n of s)t=t.insert(n.key,n);return t}function XE(s){let t=YE;return s.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Rs(){return pl()}function $E(){return pl()}function pl(){return new Ps(s=>s.toString(),(s,t)=>s.isEqual(t))}const WR=new ee(ht.comparator),JR=new we(ht.comparator);function Ot(...s){let t=JR;for(const n of s)t=t.add(n);return t}const t1=new we(wt);function e1(){return t1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(t)?"-0":t}}function ZE(s){return{integerValue:""+s}}function n1(s,t){return DR(t)?ZE(t):gm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function i1(s,t,n){return s instanceof Rl?function(l,c){const d={fields:{[ME]:{stringValue:VE},[kE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&cm(c)&&(c=Qc(c)),c&&(d.fields[UE]=c),{mapValue:d}}(n,t):s instanceof Il?JE(s,t):s instanceof Cl?tT(s,t):function(l,c){const d=WE(l,c),g=Yy(d)+Yy(l.Ie);return Md(d)&&Md(l.Ie)?ZE(g):gm(l.serializer,g)}(s,t)}function r1(s,t,n){return s instanceof Il?JE(s,t):s instanceof Cl?tT(s,t):n}function WE(s,t){return s instanceof Mc?function(r){return Md(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class Rl extends Xc{}class Il extends Xc{constructor(t){super(),this.elements=t}}function JE(s,t){const n=eT(t);for(const r of s.elements)n.some(l=>ui(l,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends Xc{constructor(t){super(),this.elements=t}}function tT(s,t){let n=eT(t);for(const r of s.elements)n=n.filter(l=>!ui(l,r));return{arrayValue:{values:n}}}class Mc extends Xc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Yy(s){return ue(s.integerValue||s.doubleValue)}function eT(s){return hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.field=t,this.transform=n}}function a1(s,t){return s.field.isEqual(t.field)&&function(r,l){return r instanceof Il&&l instanceof Il||r instanceof Cl&&l instanceof Cl?qa(r.elements,l.elements,ui):r instanceof Mc&&l instanceof Mc?ui(r.Ie,l.Ie):r instanceof Rl&&l instanceof Rl}(s.transform,t.transform)}class o1{constructor(t,n){this.version=t,this.transformResults=n}}class qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class $c{}function nT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rT(s.key,qi.none()):new Ul(s.key,s.data,qi.none());{const n=s.data,r=Nn.empty();let l=new we(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ls(s.key,r,new zn(l.toArray()),qi.none())}}function l1(s,t,n){s instanceof Ul?function(l,c,d){const g=l.value.clone(),p=$y(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,n):s instanceof Ls?function(l,c,d){if(!yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=$y(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(iT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function _l(s,t,n,r){return s instanceof Ul?function(c,d,g,p){if(!yc(c.precondition,d))return g;const v=c.value.clone(),A=Zy(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,n,r):s instanceof Ls?function(c,d,g,p){if(!yc(c.precondition,d))return g;const v=Zy(c.fieldTransforms,p,d),A=d.data;return A.setAll(iT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(s,t,n,r):function(c,d,g){return yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,n)}function u1(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=WE(r.transform,l||null);c!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,c))}return n||null}function Xy(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&qa(r,l,(c,d)=>a1(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ul extends $c{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ls extends $c{constructor(t,n,r,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iT(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}}),t}function $y(s,t,n){const r=new Map;jt(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,r1(d,g,n[l]))}return r}function Zy(s,t,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,i1(c,d,t))}return r}class rT extends $c{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c1 extends $c{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&l1(c,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=_l(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=_l(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=$E();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=nT(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,(n,r)=>Xy(n,r))&&qa(this.baseMutations,t.baseMutations,(n,r)=>Xy(n,r))}}class pm{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){jt(t.mutations.length===r.length);let l=function(){return WR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new pm(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Pt;function m1(s){switch(s){case K.OK:return mt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt()}}function sT(s){if(s===void 0)return Gi("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return mt()}}(Pt=ge||(ge={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new xr([4294967295,4294967295],0);function Wy(s){const t=IE().encode(s),n=new EE;return n.update(t),new Uint8Array(n.digest())}function Jy(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new xr([n,r],0),new xr([l,c],0)]}class _m{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hl(`Invalid padding: ${n}`);if(r<0)throw new hl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=xr.fromNumber(this.Ee)}Ae(t,n,r){let l=t.add(n.multiply(xr.fromNumber(r)));return l.compare(g1)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Wy(t),[r,l]=Jy(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,l,c);if(!this.Re(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new _m(c,l,n);return r.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const n=Wy(t),[r,l]=Jy(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,l,c);this.Ve(d)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n,r,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Zc(yt.min(),l,new ee(wt),Fi(),Ot())}}class kl{constructor(t,n,r,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new kl(r,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n,r,l){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=l}}class aT{constructor(t,n){this.targetId=t,this.ge=n}}class oT{constructor(t,n,r=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class tv{constructor(){this.pe=0,this.ye=ev(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),n=Ot(),r=Ot();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:mt()}}),new kl(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=ev()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class p1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Fi(),this.$e=uc(),this.Ue=uc(),this.Ke=new ee(wt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:mt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,r=t.ge.count,l=this.Xe(n);if(l){const c=l.target;if(kd(c))if(r===0){const d=new ht(c.path);this.ze(n,d,Qe.newNoDocument(d,yt.min()))}else jt(r===1);else{const d=this.et(n);if(d!==r){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Hr(r).toUint8Array()}catch(p){if(p instanceof NE)return Ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new _m(d,l,c)}catch(p){return Ba(p instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let l=0;return r.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&kd(g.target)){const p=new ht(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Qe.newNoDocument(p,t))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let r=Ot();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Zc(t,n,this.Ke,this.Qe,r);return this.Qe=Fi(),this.$e=uc(),this.Ue=uc(),this.Ke=new ee(wt),l}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new tv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new we(wt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(wt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new tv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function uc(){return new ee(ht.comparator)}function ev(){return new ee(ht.comparator)}const _1={asc:"ASCENDING",desc:"DESCENDING"},y1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v1={and:"AND",or:"OR"};class E1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xd(s,t){return s.useProto3Json||Fc(t)?t:{value:t}}function Uc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function T1(s,t){return Uc(s,t.toTimestamp())}function oi(s){return jt(!!s),yt.fromTimestamp(function(n){const r=qr(n);return new be(r.seconds,r.nanos)}(s))}function ym(s,t){return zd(s,t).canonicalString()}function zd(s,t){const n=function(l){return new Zt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?n:n.child(t)}function uT(s){const t=Zt.fromString(s);return jt(mT(t)),t}function Bd(s,t){return ym(s.databaseId,t.path)}function _d(s,t){const n=uT(t);if(n.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ht(hT(n))}function cT(s,t){return ym(s.databaseId,t)}function A1(s){const t=uT(s);return t.length===4?Zt.emptyPath():hT(t)}function qd(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hT(s){return jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function nv(s,t,n){return{name:Bd(s,t),fields:n.value.mapValue.fields}}function S1(s,t){let n;if("targetChange"in t){t.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?K.UNKNOWN:sT(v.code);return new st(A,v.message||"")}(d);n=new oT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=_d(s,r.document.name),c=oi(r.document.updateTime),d=r.document.createTime?oi(r.document.createTime):yt.min(),g=new Nn({mapValue:{fields:r.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=r.targetIds||[],A=r.removedTargetIds||[];n=new vc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=_d(s,r.document),c=r.readTime?oi(r.readTime):yt.min(),d=Qe.newNoDocument(l,c),g=r.removedTargetIds||[];n=new vc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=_d(s,r.document),c=r.removedTargetIds||[];n=new vc([],c,l,null)}else{if(!("filter"in t))return mt();{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new d1(l,c),g=r.targetId;n=new aT(g,d)}}return n}function b1(s,t){let n;if(t instanceof Ul)n={update:nv(s,t.key,t.value)};else if(t instanceof rT)n={delete:Bd(s,t.key)};else if(t instanceof Ls)n={update:nv(s,t.key,t.data),updateMask:M1(t.fieldMask)};else{if(!(t instanceof c1))return mt();n={verify:Bd(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const g=d.transform;if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw mt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:T1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt()}(s,t.precondition)),n}function w1(s,t){return s&&s.length>0?(jt(t!==void 0),s.map(n=>function(l,c){let d=l.updateTime?oi(l.updateTime):oi(c);return d.isEqual(yt.min())&&(d=oi(c)),new o1(d,l.transformResults||[])}(n,t))):[]}function R1(s,t){return{documents:[cT(s,t.path)]}}function I1(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cT(s,l);const c=function(v){if(v.length!==0)return dT(qn.create(v,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(U){return{field:Va(U.field),direction:O1(U.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=xd(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:n,parent:l}}function C1(s){let t=A1(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){jt(r===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(C){const U=fT(C);return U instanceof qn&&qE(U)?U.getFilters():[U]}(n.where));let d=[];n.orderBy&&(d=function(C){return C.map(U=>function(H){return new wl(Ma(H.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(U))}(n.orderBy));let g=null;n.limit&&(g=function(C){let U;return U=typeof C=="object"?C.value:C,Fc(U)?null:U}(n.limit));let p=null;n.startAt&&(p=function(C){const U=!!C.before,q=C.values||[];return new Vc(q,U)}(n.startAt));let v=null;return n.endAt&&(v=function(C){const U=!C.before,q=C.values||[];return new Vc(q,U)}(n.endAt)),KR(t,l,d,c,g,"F",p,v)}function D1(s,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ma(n.unaryFilter.field);return pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ma(n.unaryFilter.field);return pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ma(n.unaryFilter.field);return pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ma(n.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(s):s.fieldFilter!==void 0?function(n){return pe.create(Ma(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>fT(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt()}}(n.compositeFilter.op))}(s):mt()}function O1(s){return _1[s]}function N1(s){return y1[s]}function V1(s){return v1[s]}function Va(s){return{fieldPath:s.canonicalString()}}function Ma(s){return ze.fromServerFormat(s.fieldPath)}function dT(s){return s instanceof pe?function(n){if(n.op==="=="){if(jy(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jy(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:N1(n.op),value:n.value}}}(s):s instanceof qn?function(n){const r=n.getFilters().map(l=>dT(l));return r.length===1?r[0]:{compositeFilter:{op:V1(n.op),filters:r}}}(s):mt()}function M1(s){const t=[];return s.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function mT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,r,l,c=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.Tt=t}}function k1(s){const t=C1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ld(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.Tn=new L1}addToCollectionParentIndex(t,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Br.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Br.min())}updateCollectionGroup(t,n,r){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class L1{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new we(Zt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(gT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ga(0)}static Kn(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LruGarbageCollector",x1=1048576;function sv([s,t],[n,r]){const l=wt(s,n);return l===0?wt(t,r):l}class z1{constructor(t){this.Hn=t,this.buffer=new we(sv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B1{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(rv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?nt(rv,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.er(3e5)})}}class q1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(Gc.ae);const r=new z1(n);return this.tr.forEachTarget(t,l=>r.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>r.Zn(l))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(iv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(r=C,g=Date.now(),this.removeTargets(t,r,n))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(C=>(v=Date.now(),Oa()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function H1(s,t){return new q1(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.changes=new Ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(r!==null&&_l(r.mutation,l,zn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ot()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ot()){const l=Rs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,r).next(c=>{let d=cl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const r=Rs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ot()))}populateOverlays(t,n,r){const l=[];return r.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,r,l){let c=Fi();const d=pl(),g=function(){return pl()}();return n.forEach((p,v)=>{const A=r.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Ls)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),_l(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,zn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),n.forEach((v,A)=>{var C;return g.set(v,new G1(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,n){const r=pl();let l=new ee((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=n.get(p);if(v===null)return;let A=r.get(p)||zn.empty();A=g.applyToLocalView(v,A),r.set(p,A);const C=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,C=$E();A.forEach(U=>{if(!c.has(U)){const q=nT(n.get(U),r.get(U));q!==null&&C.set(U,q),c=c.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return Q.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):FE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-c.size):Q.resolve(Rs());let g=Tl,p=c;return d.next(v=>Q.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(U=>{p=p.insert(A,U)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Ot())).next(A=>({batchId:g,changes:XE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(r=>{let l=cl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const c=n.collectionGroup;let d=cl();return this.indexManager.getCollectionParents(t,c).next(g=>Q.forEach(g,p=>{const v=function(C,U){return new Wa(U,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next(A=>{A.forEach((C,U)=>{d=d.insert(C,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=cl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&_l(A.mutation,v,zn.empty(),be.now()),Yc(n,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:oi(l.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:k1(l.bundledQuery),readTime:oi(l.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.overlays=new ee(ht.comparator),this.Rr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Rs();return Q.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&r.set(l,c)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((l,c)=>{this.Et(t,n,c)}),Q.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Rr.get(r);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(t,n,r){const l=Rs(),c=n.length+1,d=new ht(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let c=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let A=c.get(v.largestBatchId);A===null&&(A=Rs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Rs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return Q.resolve(g)}Et(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(r.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new f1(n,r));let c=this.Rr.get(n);c===void 0&&(c=Ot(),this.Rr.set(n,c)),this.Rr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new Me(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new Me(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new ht(new Zt([])),r=new Me(n,t),l=new Me(n,t+1),c=[];return this.gr.forEachInRange([r,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ht(new Zt([])),r=new Me(n,t),l=new Me(n,t+1);let c=Ot();return this.gr.forEachInRange([r,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Me(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Me{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ht.comparator(t.key,n.key)||wt(t.Cr,n.Cr)}static pr(t,n){return wt(t.Cr,n.Cr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new h1(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Nr(r),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?um:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([r,l],d=>{const g=this.Or(d.Cr);c.push(g)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new we(wt);return n.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{r=r.add(g.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ht(c),0);let g=new we(wt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(r=>{const l=this.Or(r);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){jt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(n.mutations,l=>{const c=new Me(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new Me(n,0),l=this.Mr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.kr=t,this.docs=function(){return new ee(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let r=Fi();return n.forEach(l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),Q.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let c=Fi();const d=n.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||wR(bR(A),r)<=0||(l.has(A.key)||Yc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,r,l){mt()}qr(t,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Z1(this)}getSize(t){return Q.resolve(this.size)}}class Z1 extends j1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(r)}),Q.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.persistence=t,this.Qr=new Ps(n=>fm(n),dm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vm,this.targetCount=0,this.Kr=Ga.Un()}forEachTarget(t,n){return this.Qr.forEach((r,l)=>n(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Q.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.zn(n),Q.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,r){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return Q.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),Q.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return Q.resolve(r)}containsKey(t,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Gc(0),this.zr=!1,this.zr=!0,this.jr=new Y1,this.referenceDelegate=t(this),this.Hr=new W1(this),this.indexManager=new P1,this.remoteDocumentCache=function(l){return new $1(l)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new U1(n),this.Yr=new Q1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new K1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new X1(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){nt("MemoryPersistence","Starting transaction:",t);const l=new J1(this.Gr.next());return this.referenceDelegate.Zr(),r(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,n){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class J1 extends IR{constructor(t){super(),this.currentSequenceNumber=t}}class Em{constructor(t){this.persistence=t,this.ti=new vm,this.ni=null}static ri(t){return new Em(t)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Q.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const l=ht.fromPath(r);return this.si(t,l).next(c=>{c||n.removeEntry(l,yt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class kc{constructor(t,n){this.persistence=t,this.oi=new Ps(r=>OR(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=H1(this,n)}static ri(t,n){return new kc(t,n)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(l=>r+l))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return Q.forEach(this.oi,(r,l)=>this.ar(t,r,l).next(c=>c?Q.resolve():n(l)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,n).next(g=>{g||(r++,c.removeEntry(d,yt.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=pc(t.data.value)),n}ar(t,n,r){return Q.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return Q.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=l}static Yi(t,n){let r=Ot(),l=Ot();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Tm(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XA()?8:CR(Ke())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,l){const c={result:null};return this.rs(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,n,l,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new tI;return this._s(t,n,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,d,g.size)})}).next(()=>c.result)}us(t,n,r,l){return r.documentReadCount<this.es?(Oa()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Oa()<=Dt.DEBUG&&nt("QueryEngine","Query:",Na(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ts*l?(Oa()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):Q.resolve())}rs(t,n){if(Ky(n))return Q.resolve(null);let r=ai(n);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Ld(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Ot(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,r).next(p=>{const v=this.cs(n,g);return this.ls(n,v,d,p.readTime)?this.rs(t,Ld(n,null,"F")):this.hs(t,v,n,p)}))})))}ss(t,n,r,l){return Ky(n)||l.isEqual(yt.min())?Q.resolve(null):this.ns.getDocuments(t,r).next(c=>{const d=this.cs(n,c);return this.ls(n,d,r,l)?Q.resolve(null):(Oa()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Na(n)),this.hs(t,d,n,SR(l,Tl)).next(g=>g))})}cs(t,n){let r=new we(KE(t));return n.forEach((l,c)=>{Yc(t,c)&&(r=r.add(c))}),r}ls(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,n,r){return Oa()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Na(n)),this.ns.getDocumentsMatchingQuery(t,n,Br.min(),r)}hs(t,n,r,l){return this.ns.getDocumentsMatchingQuery(t,r,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",nI=3e8;class iI{constructor(t,n,r,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ee(wt),this.Is=new Ps(c=>fm(c),dm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function rI(s,t,n,r){return new iI(s,t,n,r)}async function _T(s,t){const n=Et(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next(c=>(l=c,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let p=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(r,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function sI(s,t){const n=Et(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const C=v.batch,U=C.keys();let q=Q.resolve();return U.forEach(H=>{q=q.next(()=>A.getEntry(p,H)).next(Z=>{const $=v.docVersions.get(H);jt($!==null),Z.version.compareTo($)<0&&(C.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),A.addEntry(Z)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(n,r,t,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let p=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>n.localDocuments.getDocuments(r,l))})}function yT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function aI(s,t){const n=Et(s),r=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((A,C)=>{const U=l.get(C);if(!U)return;g.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,C).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,C)));let q=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?q=q.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),l=l.insert(C,q),function(Z,$,it){return Z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=nI?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0}(U,q,A)&&g.push(n.Hr.updateTargetData(c,q))});let p=Fi(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(oI(c,d,t.documentUpdates).next(A=>{p=A.Vs,v=A.fs})),!r.isEqual(yt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(C=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(A)}return Q.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(n.Ts=l,c))}function oI(s,t,n){let r=Ot(),l=Ot();return n.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let d=Fi();return n.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(yt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):nt(Am,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function lI(s,t){const n=Et(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=um),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function uI(s,t){const n=Et(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return n.Hr.getTargetData(r,t).next(c=>c?(l=c,Q.resolve(l)):n.Hr.allocateTargetId(r).next(d=>(l=new Ur(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=n.Ts.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function Hd(s,t,n){const r=Et(s),l=r.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Za(d))throw d;nt(Am,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ts=r.Ts.remove(t),r.Is.delete(l.target)}function av(s,t,n){const r=Et(s);let l=yt.min(),c=Ot();return r.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const C=Et(p),U=C.Is.get(A);return U!==void 0?Q.resolve(C.Ts.get(U)):C.Hr.getTargetData(v,A)}(r,d,ai(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,t,n?l:yt.min(),n?c:Ot())).next(g=>(cI(r,XR(t),g),{documents:g,gs:c})))}function cI(s,t,n){let r=s.Es.get(t)||yt.min();n.forEach((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Es.set(t,r)}class ov{constructor(){this.activeTargetIds=e1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.ho=new ov,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new ov,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class uv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(lv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function jd(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${l}`,this.wo=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}So(t,n,r,l,c){const d=jd(),g=this.bo(t,n.toUriEncodedString());nt(yd,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,r).then(v=>(nt(yd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ba(yd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",r),v})}Co(t,n,r,l,c,d){return this.So(t,n,r,l,c)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),r&&r.headers.forEach((l,c)=>t[c]=l)}bo(t,n){const r=dI[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class pI extends mI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,l){const c=jd();return new Promise((d,g)=>{const p=new TE;p.setWithCredentials(!0),p.listenOnce(AE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gc.NO_ERROR:const A=p.getResponseJson();nt(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case gc.TIMEOUT:nt(Ge,`RPC '${t}' ${c} timed out`),g(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const C=p.getStatus();if(nt(Ge,`RPC '${t}' ${c} failed with status:`,C,"response text:",p.getResponseText()),C>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const q=U==null?void 0:U.error;if(q&&q.status&&q.message){const H=function($){const it=$.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(it)>=0?it:K.UNKNOWN}(q.status);g(new st(H,q.message))}else g(new st(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new st(K.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{nt(Ge,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);nt(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(n,"POST",v,r,15)})}Wo(t,n,r){const l=jd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=wE(),g=bE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const A=c.join("");nt(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);let U=!1,q=!1;const H=new gI({Fo:$=>{q?nt(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(U||(nt(Ge,`Opening RPC '${t}' stream ${l} transport.`),C.open(),U=!0),nt(Ge,`RPC '${t}' stream ${l} sending:`,$),C.send($))},Mo:()=>C.close()}),Z=($,it,lt)=>{$.listen(it,gt=>{try{lt(gt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return Z(C,ul.EventType.OPEN,()=>{q||(nt(Ge,`RPC '${t}' stream ${l} transport opened.`),H.Qo())}),Z(C,ul.EventType.CLOSE,()=>{q||(q=!0,nt(Ge,`RPC '${t}' stream ${l} transport closed`),H.Uo())}),Z(C,ul.EventType.ERROR,$=>{q||(q=!0,Ba(Ge,`RPC '${t}' stream ${l} transport errored:`,$),H.Uo(new st(K.UNAVAILABLE,"The operation could not be completed")))}),Z(C,ul.EventType.MESSAGE,$=>{var it;if(!q){const lt=$.data[0];jt(!!lt);const gt=lt,Nt=(gt==null?void 0:gt.error)||((it=gt[0])===null||it===void 0?void 0:it.error);if(Nt){nt(Ge,`RPC '${t}' stream ${l} received error:`,Nt);const pt=Nt.status;let Rt=function(S){const I=ge[S];if(I!==void 0)return sT(I)}(pt),M=Nt.message;Rt===void 0&&(Rt=K.INTERNAL,M="Unknown error status: "+pt+" with message "+Nt.message),q=!0,H.Uo(new st(Rt,M)),C.close()}else nt(Ge,`RPC '${t}' stream ${l} received:`,lt),H.Ko(lt)}}),Z(g,SE.STAT_EVENT,$=>{$.stat===Od.PROXY?nt(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Od.NOPROXY&&nt(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(s){return new E1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n,r=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-r);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class ET{constructor(t,n,r,l,c,d,g,p){this.Ti=t,this.n_=r,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.i_===n&&this.V_(r,l)},r=>{t(()=>{const l=new st(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(l)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{r(()=>this.m_(l))}),this.stream.onMessage(l=>{r(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(nt(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _I extends ET{constructor(t,n,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=S1(this.serializer,t),r=function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?oi(d.readTime):yt.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=qd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=kd(p)?{documents:R1(c,p)}:{query:I1(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=lT(c,d.resumeToken);const v=xd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Uc(c,d.snapshotVersion.toTimestamp());const v=xd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const r=D1(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=qd(this.serializer),n.removeTarget=t,this.I_(n)}}class yI extends ET{constructor(t,n,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return jt(!!t.streamToken),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=w1(t.writeResults,t.commitTime),r=oi(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=qd(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>b1(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class EI extends vI{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,zd(n,r),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(K.UNKNOWN,c.toString())})}Co(t,n,r,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,zd(n,r),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class TI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(n),this.N_=!1):nt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class AI{constructor(t,n,r,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{r.enqueueAndForget(async()=>{xs(this)&&(nt(Us,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.W_.add(4),await Pl(v),v.j_.set("Unknown"),v.W_.delete(4),await Jc(v)}(this))})}),this.j_=new TI(r,l)}}async function Jc(s){if(xs(s))for(const t of s.G_)await t(!0)}async function Pl(s){for(const t of s.G_)await t(!1)}function TT(s,t){const n=Et(s);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Rm(n)?wm(n):Ja(n).c_()&&bm(n,t))}function Sm(s,t){const n=Et(s),r=Ja(n);n.K_.delete(t),r.c_()&&AT(n,t),n.K_.size===0&&(r.c_()?r.P_():xs(n)&&n.j_.set("Unknown"))}function bm(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ja(s).y_(t)}function AT(s,t){s.H_.Ne(t),Ja(s).w_(t)}function wm(s){s.H_=new p1({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),Ja(s).start(),s.j_.B_()}function Rm(s){return xs(s)&&!Ja(s).u_()&&s.K_.size>0}function xs(s){return Et(s).W_.size===0}function ST(s){s.H_=void 0}async function SI(s){s.j_.set("Online")}async function bI(s){s.K_.forEach((t,n)=>{bm(s,t)})}async function wI(s,t){ST(s),Rm(s)?(s.j_.q_(t),wm(s)):s.j_.set("Unknown")}async function RI(s,t,n){if(s.j_.set("Online"),t instanceof oT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(s,t)}catch(r){nt(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Pc(s,r)}else if(t instanceof vc?s.H_.We(t):t instanceof aT?s.H_.Ze(t):s.H_.je(t),!n.isEqual(yt.min()))try{const r=await yT(s.localStore);n.compareTo(r)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.K_.get(v);A&&c.K_.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.K_.get(p);if(!A)return;c.K_.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),AT(c,p);const C=new Ur(A.target,p,v,A.sequenceNumber);bm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(r){nt(Us,"Failed to raise snapshot:",r),await Pc(s,r)}}async function Pc(s,t,n){if(!Za(t))throw t;s.W_.add(1),await Pl(s),s.j_.set("Offline"),n||(n=()=>yT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(Us,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Jc(s)})}function bT(s,t){return t().catch(n=>Pc(s,n,t))}async function th(s){const t=Et(s),n=Gr(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:um;for(;II(t);)try{const l=await lI(t.localStore,r);if(l===null){t.U_.length===0&&n.P_();break}r=l.batchId,CI(t,l)}catch(l){await Pc(t,l)}wT(t)&&RT(t)}function II(s){return xs(s)&&s.U_.length<10}function CI(s,t){s.U_.push(t);const n=Gr(s);n.c_()&&n.S_&&n.b_(t.mutations)}function wT(s){return xs(s)&&!Gr(s).u_()&&s.U_.length>0}function RT(s){Gr(s).start()}async function DI(s){Gr(s).C_()}async function OI(s){const t=Gr(s);for(const n of s.U_)t.b_(n.mutations)}async function NI(s,t,n){const r=s.U_.shift(),l=pm.from(r,t,n);await bT(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await th(s)}async function VI(s,t){t&&Gr(s).S_&&await async function(r,l){if(function(d){return m1(d)&&d!==K.ABORTED}(l.code)){const c=r.U_.shift();Gr(r).h_(),await bT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l)),await th(r)}}(s,t),wT(s)&&RT(s)}async function hv(s,t){const n=Et(s);n.asyncQueue.verifyOperationInProgress(),nt(Us,"RemoteStore received new credentials");const r=xs(n);n.W_.add(3),await Pl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Jc(n)}async function MI(s,t){const n=Et(s);t?(n.W_.delete(2),await Jc(n)):t||(n.W_.add(2),await Pl(n),n.j_.set("Unknown"))}function Ja(s){return s.J_||(s.J_=function(n,r,l){const c=Et(n);return c.M_(),new _I(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:SI.bind(null,s),No:bI.bind(null,s),Lo:wI.bind(null,s),p_:RI.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),Rm(s)?wm(s):s.j_.set("Unknown")):(await s.J_.stop(),ST(s))})),s.J_}function Gr(s){return s.Y_||(s.Y_=function(n,r,l){const c=Et(n);return c.M_(),new yI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:DI.bind(null,s),Lo:VI.bind(null,s),D_:OI.bind(null,s),v_:NI.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await th(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(Us,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,n,r,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,c){const d=Date.now()+r,g=new Im(t,n,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(s,t){if(Gi("AsyncQueue",`${t}: ${s}`),Za(s))return new st(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Z_=new ee(ht.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):mt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Fa{constructor(t,n,r,l,c,d,g,p,v){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,n,r,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Fa(t,n,La.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class kI{constructor(){this.queries=dv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const l=Et(n),c=l.queries;l.queries=dv(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(r)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function dv(){return new Ps(s=>QE(s),Kc)}async function PI(s,t){const n=Et(s);let r=3;const l=t.query;let c=n.queries.get(l);c?!c.na()&&t.ra()&&(r=2):(c=new UI,r=t.ra()?0:1);try{switch(r){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Cm(d,`Initialization of query '${Na(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&Dm(n)}async function LI(s,t){const n=Et(s),r=t.query;let l=3;const c=n.queries.get(r);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xI(s,t){const n=Et(s);let r=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(r=!0);d.ea=l}}r&&Dm(n)}function zI(s,t,n){const r=Et(s),l=r.queries.get(t);if(l)for(const c of l.ta)c.onError(n);r.queries.delete(t)}function Dm(s){s.ia.forEach(t=>{t.next()})}var Gd,mv;(mv=Gd||(Gd={}))._a="default",mv.Cache="cache";class BI{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Fa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t){this.key=t}}class CT{constructor(t){this.key=t}}class qI{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=KE(t),this.wa=new La(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new fv,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const U=l.get(A),q=Yc(this.query,C)?C:null,H=!!U&&this.mutatedKeys.has(U.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;U&&q?U.data.isEqual(q.data)?H!==Z&&(r.track({type:3,doc:q}),$=!0):this.va(U,q)||(r.track({type:2,doc:q}),$=!0,(p&&this.ya(q,p)>0||v&&this.ya(q,v)<0)&&(g=!0)):!U&&q?(r.track({type:0,doc:q}),$=!0):U&&!q&&(r.track({type:1,doc:U}),$=!0,(p||v)&&(g=!0)),$&&(q?(d=d.add(q),c=Z?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{wa:d,Da:r,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,C)=>function(q,H){const Z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return Z(q)-Z(H)}(A.type,C.type)||this.ya(A.doc,C.doc)),this.Ca(r),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new Fa(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new CT(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new IT(r))}),n}Oa(t){this.fa=t.gs,this.pa=Ot();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Om="SyncEngine";class HI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class jI{constructor(t){this.key=t,this.Ba=!1}}class GI{constructor(t,n,r,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ps(g=>QE(g),Kc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ht.comparator),this.Ua=new Map,this.Ka=new vm,this.Wa={},this.Ga=new Map,this.za=Ga.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FI(s,t,n=!0){const r=UT(s);let l;const c=r.ka.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await DT(r,t,n,!0),l}async function QI(s,t){const n=UT(s);await DT(n,t,!0,!1)}async function DT(s,t,n,r){const l=await uI(s.localStore,ai(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await KI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&TT(s.remoteStore,l),g}async function KI(s,t,n,r,l){s.Ha=(C,U,q)=>async function(Z,$,it,lt){let gt=$.view.ba(it);gt.ls&&(gt=await av(Z.localStore,$.query,!1).then(({documents:M})=>$.view.ba(M,gt)));const Nt=lt&&lt.targetChanges.get($.targetId),pt=lt&&lt.targetMismatches.get($.targetId)!=null,Rt=$.view.applyChanges(gt,Z.isPrimaryClient,Nt,pt);return pv(Z,$.targetId,Rt.Ma),Rt.snapshot}(s,C,U,q);const c=await av(s.localStore,t,!0),d=new qI(t,c.gs),g=d.ba(c.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,p);pv(s,n,v.Ma);const A=new HI(t,n,d);return s.ka.set(t,A),s.qa.has(n)?s.qa.get(n).push(t):s.qa.set(n,[t]),v.snapshot}async function YI(s,t,n){const r=Et(s),l=r.ka.get(t),c=r.qa.get(l.targetId);if(c.length>1)return r.qa.set(l.targetId,c.filter(d=>!Kc(d,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Hd(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Sm(r.remoteStore,l.targetId),Fd(r,l.targetId)}).catch($a)):(Fd(r,l.targetId),await Hd(r.localStore,l.targetId,!0))}async function XI(s,t){const n=Et(s),r=n.ka.get(t),l=n.qa.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sm(n.remoteStore,r.targetId))}async function $I(s,t,n){const r=iC(s);try{const l=await function(d,g){const p=Et(d),v=be.now(),A=g.reduce((q,H)=>q.add(H.key),Ot());let C,U;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let H=Fi(),Z=Ot();return p.ds.getEntries(q,A).next($=>{H=$,H.forEach((it,lt)=>{lt.isValidDocument()||(Z=Z.add(it))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,H)).next($=>{C=$;const it=[];for(const lt of g){const gt=u1(lt,C.get(lt.key).overlayedDocument);gt!=null&&it.push(new Ls(lt.key,gt,xE(gt.value.mapValue),qi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,v,it,g)}).next($=>{U=$;const it=$.applyToLocalDocumentSet(C,Z);return p.documentOverlayCache.saveOverlays(q,$.batchId,it)})}).then(()=>({batchId:U.batchId,changes:XE(C)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(wt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(r,l.batchId,n),await Ll(r,l.changes),await th(r.remoteStore)}catch(l){const c=Cm(l,"Failed to persist write");n.reject(c)}}async function OT(s,t){const n=Et(s);try{const r=await aI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Ua.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?jt(d.Ba):l.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await Ll(n,r,t)}catch(r){await $a(r)}}function gv(s,t,n){const r=Et(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,C)=>{for(const U of C.ta)U.sa(g)&&(v=!0)}),v&&Dm(p)}(r.eventManager,t),l.length&&r.La.p_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ZI(s,t,n){const r=Et(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Ua.get(t),c=l&&l.key;if(c){let d=new ee(ht.comparator);d=d.insert(c,Qe.newNoDocument(c,yt.min()));const g=Ot().add(c),p=new Zc(yt.min(),new Map,new ee(wt),d,g);await OT(r,p),r.$a=r.$a.remove(c),r.Ua.delete(t),Nm(r)}else await Hd(r.localStore,t,!1).then(()=>Fd(r,t,n)).catch($a)}async function WI(s,t){const n=Et(s),r=t.batch.batchId;try{const l=await sI(n.localStore,t);VT(n,r,null),NT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ll(n,l)}catch(l){await $a(l)}}async function JI(s,t,n){const r=Et(s);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(C=>(jt(C!==null),A=C.keys(),p.mutationQueue.removeMutationBatch(v,C))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(r.localStore,t);VT(r,t,n),NT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ll(r,l)}catch(l){await $a(l)}}function NT(s,t){(s.Ga.get(t)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(t)}function VT(s,t,n){const r=Et(s);let l=r.Wa[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),r.Wa[r.currentUser.toKey()]=l}}function Fd(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.qa.get(t))s.ka.delete(r),n&&s.La.Ja(r,n);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(r=>{s.Ka.containsKey(r)||MT(s,r)})}function MT(s,t){s.Qa.delete(t.path.canonicalString());const n=s.$a.get(t);n!==null&&(Sm(s.remoteStore,n),s.$a=s.$a.remove(t),s.Ua.delete(n),Nm(s))}function pv(s,t,n){for(const r of n)r instanceof IT?(s.Ka.addReference(r.key,t),tC(s,r)):r instanceof CT?(nt(Om,"Document no longer in limbo: "+r.key),s.Ka.removeReference(r.key,t),s.Ka.containsKey(r.key)||MT(s,r.key)):mt()}function tC(s,t){const n=t.key,r=n.path.canonicalString();s.$a.get(n)||s.Qa.has(r)||(nt(Om,"New document in limbo: "+n),s.Qa.add(r),Nm(s))}function Nm(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const n=new ht(Zt.fromString(t)),r=s.za.next();s.Ua.set(r,new jI(n)),s.$a=s.$a.insert(n,r),TT(s.remoteStore,new Ur(ai(mm(n.path)),r,"TargetPurposeLimboResolution",Gc.ae))}}async function Ll(s,t,n){const r=Et(s),l=[],c=[],d=[];r.ka.isEmpty()||(r.ka.forEach((g,p)=>{d.push(r.Ha(p,t,n).then(v=>{var A;if((v||n)&&r.isPrimaryClient){const C=v?!v.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){l.push(v);const C=Tm.Yi(p.targetId,v);c.push(C)}}))}),await Promise.all(d),r.La.p_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Q.forEach(v,U=>Q.forEach(U.Hi,q=>A.persistence.referenceDelegate.addReference(C,U.targetId,q)).next(()=>Q.forEach(U.Ji,q=>A.persistence.referenceDelegate.removeReference(C,U.targetId,q)))))}catch(C){if(!Za(C))throw C;nt(Am,"Failed to update sequence numbers: "+C)}for(const C of v){const U=C.targetId;if(!C.fromCache){const q=A.Ts.get(U),H=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(H);A.Ts=A.Ts.insert(U,Z)}}}(r.localStore,c))}async function eC(s,t){const n=Et(s);if(!n.currentUser.isEqual(t)){nt(Om,"User change. New user:",t.toKey());const r=await _T(n.localStore,t);n.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new st(K.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ll(n,r.Rs)}}function nC(s,t){const n=Et(s),r=n.Ua.get(t);if(r&&r.Ba)return Ot().add(r.key);{let l=Ot();const c=n.qa.get(t);if(!c)return l;for(const d of c){const g=n.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function UT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZI.bind(null,t),t.La.p_=xI.bind(null,t.eventManager),t.La.Ja=zI.bind(null,t.eventManager),t}function iC(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return rI(this.persistence,new eI,t.initialUser,this.serializer)}Xa(t){return new pT(Em.ri,this.serializer)}Za(t){return new hI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class rC extends Lc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){jt(this.persistence.referenceDelegate instanceof kc);const r=this.persistence.referenceDelegate.garbageCollector;return new B1(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new pT(r=>kc.ri(r,n),this.serializer)}}class Qd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new kI}()}createDatastore(t){const n=Wc(t.databaseInfo.databaseId),r=function(c){return new pI(c)}(t.databaseInfo);return function(c,d,g,p){return new EI(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,l,c,d,g){return new AI(r,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>gv(this.syncEngine,n,0),function(){return uv.D()?new uv:new fI}())}createSyncEngine(t,n){return function(l,c,d,g,p,v,A){const C=new GI(l,c,d,g,p,v);return A&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Et(l);nt(Us,"RemoteStore shutting down."),c.W_.add(5),await Pl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qd.provider={build:()=>new Qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class aC{constructor(t,n,r,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=CE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{nt(Fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(nt(Fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Cm(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ed(s,t){s.asyncQueue.verifyOperationInProgress(),nt(Fr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await _T(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function _v(s,t){s.asyncQueue.verifyOperationInProgress();const n=await oC(s);nt(Fr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(r=>hv(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>hv(t.remoteStore,l)),s._onlineComponents=t}async function oC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Fr,"Using user provided OfflineComponentProvider");try{await Ed(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await Ed(s,new Lc)}}else nt(Fr,"Using default OfflineComponentProvider"),await Ed(s,new rC(void 0));return s._offlineComponents}async function kT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Fr,"Using user provided OnlineComponentProvider"),await _v(s,s._uninitializedComponentsProvider._online)):(nt(Fr,"Using default OnlineComponentProvider"),await _v(s,new Qd))),s._onlineComponents}function lC(s){return kT(s).then(t=>t.syncEngine)}async function yv(s){const t=await kT(s),n=t.eventManager;return n.onListen=FI.bind(null,t.syncEngine),n.onUnlisten=YI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=XI.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(s,t,n){if(!n)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function uC(s,t,n,r){if(t===!0&&r===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Ev(s){if(!ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Tv(s){if(ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt()}function yl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eh(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firestore.googleapis.com",Av=!0;class Sv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=Av}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Av;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<x1)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mR;switch(r.type){case"firstParty":return new yR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vv.get(n);r&&(nt("ComponentProvider","Removing Datastore"),vv.delete(n),r.terminate())}(this),Promise.resolve()}}function cC(s,t,n,r={}){var l;const c=(s=yl(s,nh))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==xT&&c.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:r});if(!Os(p,d)&&(s._setSettings(p),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=Fe.MOCK_USER;else{v=HA(r.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(C)}s._authCredentials=new gR(new RE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zs(this.firestore,t,this._query)}}class dn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class zr extends zs{constructor(t,n,r){super(t,n,mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new ht(t))}withConverter(t){return new zr(this.firestore,t,this._path)}}function hC(s,t,...n){if(s=sn(s),LT("collection","path",t),s instanceof nh){const r=Zt.fromString(t,...n);return Tv(r),new zr(s,null,r)}{if(!(s instanceof dn||s instanceof zr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Zt.fromString(t,...n));return Tv(r),new zr(s.firestore,null,r)}}function fC(s,t,...n){if(s=sn(s),arguments.length===1&&(t=CE.newId()),LT("doc","path",t),s instanceof nh){const r=Zt.fromString(t,...n);return Ev(r),new dn(s,null,new ht(r))}{if(!(s instanceof dn||s instanceof zr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Zt.fromString(t,...n));return Ev(r),new dn(s.firestore,s instanceof zr?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class wv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vT(this,"async_queue_retry"),this.Su=()=>{const r=vd();r&&nt(bv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=vd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=vd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ds;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Za(t))throw t;nt(bv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(r);throw Gi("INTERNAL UNHANDLED ERROR: ",l),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Im.createAndSchedule(this,t,n,r,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Rv(s){return function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1}(s,["next","error","complete"])}class xc extends nh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function dC(s,t){const n=typeof s=="object"?s:Bv(),r=typeof s=="string"?s:Oc,l=$d(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=BA("firestore");c&&cC(l,...c)}return l}function zT(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mC(s),s._firestoreClient}function mC(s){var t,n,r;const l=s._freezeSettings(),c=function(g,p,v,A){return new MR(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,PT(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new aC(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(Be.fromBase64String(t))}catch(n){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qa(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/^__.*__$/;class pC{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ls(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(t,this.data,n,this.fieldTransforms)}}function BT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Pm{constructor(t,n,r,l,c,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:r,Qu:!1});return l.$u(t),l}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:r,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return zc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(BT(this.Lu)&&gC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class _C{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Wc(t)}ju(t,n,r,l=!1){return new Pm({Lu:t,methodName:n,zu:r,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(s){const t=s._freezeSettings(),n=Wc(s._databaseId);return new _C(s._databaseId,!!t.ignoreUndefinedProperties,n)}function yC(s,t,n,r,l,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,t,n,l);GT("Data must be an object, but it was:",d,r);const g=HT(r,d);let p,v;if(c.merge)p=new zn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const U=EC(t,C,n);if(!d.contains(U))throw new st(K.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);AC(A,U)||A.push(U)}p=new zn(A),v=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,v=d.fieldTransforms;return new pC(new Nn(g),p,v)}class Lm extends Mm{_toFieldTransform(t){return new s1(t.path,new Rl)}isEqual(t){return t instanceof Lm}}function vC(s,t,n,r=!1){return xm(n,s.ju(r?4:3,t))}function xm(s,t){if(jT(s=sn(s)))return GT("Unsupported field value:",t,s),HT(s,t);if(s instanceof Mm)return function(r,l){if(!BT(l.Lu))throw l.Wu(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,l){const c=[];let d=0;for(const g of r){let p=xm(g,l.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,t)}return function(r,l){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n1(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=be.fromDate(r);return{timestampValue:Uc(l.serializer,c)}}if(r instanceof be){const c=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uc(l.serializer,c)}}if(r instanceof Um)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qa)return{bytesValue:lT(l.serializer,r._byteString)};if(r instanceof dn){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ym(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof km)return function(d,g){return{mapValue:{fields:{[PE]:{stringValue:LE},[Nc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return gm(g.serializer,v)})}}}}}}(r,l);throw l.Wu(`Unsupported field value: ${eh(r)}`)}(s,t)}function HT(s,t){const n={};return OE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(s,(r,l)=>{const c=xm(l,t.qu(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function jT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof be||s instanceof Um||s instanceof Qa||s instanceof dn||s instanceof Mm||s instanceof km)}function GT(s,t,n){if(!jT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const r=eh(n);throw r==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+r)}}function EC(s,t,n){if((t=sn(t))instanceof Vm)return t._internalPath;if(typeof t=="string")return FT(s,t);throw zc("Field path arguments must be of type string or ",s,!1,void 0,n)}const TC=new RegExp("[~\\*/\\[\\]]");function FT(s,t,n){if(t.search(TC)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Vm(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function zc(s,t,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new st(K.INVALID_ARGUMENT,g+s+p)}function AC(s,t){return s.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,n,r,l,c){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ih("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SC extends QT{data(){return super.data()}}function ih(s,t){return typeof t=="string"?FT(s,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class KT extends zm{}function wC(s,t,...n){let r=[];t instanceof zm&&r.push(t),r=r.concat(n),function(c){const d=c.filter(p=>p instanceof Bm).length,g=c.filter(p=>p instanceof rh).length;if(d>1||d>0&&g>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const l of r)s=l._apply(s);return s}class rh extends KT{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new rh(t,n,r)}_apply(t){const n=this._parse(t);return YT(t._query,n),new zs(t.firestore,t.converter,Pd(t._query,n))}_parse(t){const n=qT(t.firestore);return function(c,d,g,p,v,A,C){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Cv(C,A);const H=[];for(const Z of C)H.push(Iv(p,c,Z));U={arrayValue:{values:H}}}else U=Iv(p,c,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Cv(C,A),U=vC(g,d,C,A==="in"||A==="not-in");return pe.create(v,A,U)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function RC(s,t,n){const r=t,l=ih("where",s);return rh._create(l,r,n)}class Bm extends zm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bm(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)YT(d,p),d=Pd(d,p)}(t._query,n),new zs(t.firestore,t.converter,Pd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qm extends KT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new qm(t,n)}_apply(t){const n=function(l,c,d){if(l.startAt!==null)throw new st(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(c,d)}(t._query,this._field,this._direction);return new zs(t.firestore,t.converter,function(l,c){const d=l.explicitOrderBy.concat([c]);return new Wa(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function IC(s,t="asc"){const n=t,r=ih("orderBy",s);return qm._create(r,n)}function Iv(s,t,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FE(t)&&n.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Zt.fromString(n));if(!ht.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qy(s,new ht(r))}if(n instanceof dn)return qy(s,n._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(n)}.`)}function Cv(s,t){if(!Array.isArray(s)||s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YT(s,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class CC{convertValue(t,n="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ks(t,(l,c)=>{r[l]=this.convertValue(c,n)}),r}convertVectorValue(t){var n,r,l;const c=(l=(r=(n=t.fields)===null||n===void 0?void 0:n[Nc].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new km(c)}convertGeoPoint(t){return new Um(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Qc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const n=qr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Zt.fromString(t);jt(mT(r));const l=new Sl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(n)||Gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(s,t,n){let r;return r=s?s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XT extends QT{constructor(t,n,r,l,c,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ih("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ec extends XT{data(t={}){return super.data(t)}}class OC{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new fl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ec(this._firestore,this._userDataWriter,r.key,r,new fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new Ec(l._firestore,l._userDataWriter,g.doc.key,g.doc,new fl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Ec(l._firestore,l._userDataWriter,g.doc.key,g.doc,new fl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:NC(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class $T extends CC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function VC(s,t){const n=yl(s.firestore,xc),r=fC(s),l=DC(s.converter,t);return UC(n,[yC(qT(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then(()=>r)}function MC(s,...t){var n,r,l;s=sn(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Rv(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Rv(t[d])){const C=t[d];t[d]=(n=C.next)===null||n===void 0?void 0:n.bind(C),t[d+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),t[d+2]=(l=C.complete)===null||l===void 0?void 0:l.bind(C)}let p,v,A;if(s instanceof dn)v=yl(s.firestore,xc),A=mm(s._key.path),p={next:C=>{t[d]&&t[d](kC(v,s,C))},error:t[d+1],complete:t[d+2]};else{const C=yl(s,zs);v=yl(C.firestore,xc),A=C._query;const U=new $T(v);p={next:q=>{t[d]&&t[d](new OC(v,U,C,q))},error:t[d+1],complete:t[d+2]},bC(s._query)}return function(U,q,H,Z){const $=new sC(Z),it=new BI(q,$,H);return U.asyncQueue.enqueueAndForget(async()=>PI(await yv(U),it)),()=>{$.su(),U.asyncQueue.enqueueAndForget(async()=>LI(await yv(U),it))}}(zT(v),A,g,p)}function UC(s,t){return function(r,l){const c=new Ds;return r.asyncQueue.enqueueAndForget(async()=>$I(await lC(r),l,c)),c.promise}(zT(s),t)}function kC(s,t,n){const r=n.docs.get(t._key),l=new $T(s);return new XT(s,l,t._key,r,new fl(n.hasPendingWrites,n.fromCache),t.converter)}function PC(){return new Lm("serverTimestamp")}(function(t,n=!0){(function(l){Xa=l})(Ka),xa(new Ns("firestore",(r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new xc(new pR(r.getProvider("auth-internal")),new vR(d,r.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Lr(Dy,Oy,t),Lr(Dy,Oy,"esm2017")})();const LC={apiKey:"AIzaSyBuBm-oSGhVUHHyeHM4h9utfWnVxn0tt18",authDomain:"chatapp-569e1.firebaseapp.com",projectId:"chatapp-569e1",storageBucket:"chatapp-569e1.firebasestorage.app",messagingSenderId:"186983033749",appId:"1:186983033749:web:f2fe31e25a68aee5a9a49c"},ZT=zv(LC),xC=dC(ZT),Hm=fR(ZT),zC=new Li,BC=({room:s})=>{const[t,n]=Is.useState([]),[r,l]=Is.useState(""),c=hC(xC,"messages");Is.useEffect(()=>{const g=wC(c,RC("room","==",s),IC("createdAt")),p=MC(g,v=>{let A=[];v.forEach(C=>{A.push({...C.data(),id:C.id})}),console.log(A),n(A)});return()=>p()},[s]);const d=async g=>{g.preventDefault(),r!==""&&(await VC(c,{text:r,createdAt:PC(),user:Hm.currentUser.displayName,room:s}),l(""))};return Kt.jsxs("div",{className:"chat-app",children:[Kt.jsx("div",{className:"header",children:Kt.jsxs("h1",{children:["Welcome to: ",s.toUpperCase()]})}),Kt.jsx("div",{className:"messages",children:t.map(g=>Kt.jsxs("div",{className:"message",children:[Kt.jsxs("span",{className:"user",children:[g.user,":"]})," ",g.text]},g.id))}),Kt.jsxs("form",{onSubmit:d,className:"new-message-form",children:[Kt.jsx("input",{type:"text",value:r,onChange:g=>l(g.target.value),className:"new-message-input",placeholder:"Type your message here..."}),Kt.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})]})};var ll={},Dv;function qC(){if(Dv)return ll;Dv=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.parse=d,ll.serialize=v;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const U=function(){};return U.prototype=Object.create(null),U})();function d(U,q){const H=new c,Z=U.length;if(Z<2)return H;const $=(q==null?void 0:q.decode)||A;let it=0;do{const lt=U.indexOf("=",it);if(lt===-1)break;const gt=U.indexOf(";",it),Nt=gt===-1?Z:gt;if(lt>Nt){it=U.lastIndexOf(";",lt-1)+1;continue}const pt=g(U,it,lt),Rt=p(U,lt,pt),M=U.slice(pt,Rt);if(H[M]===void 0){let w=g(U,lt+1,Nt),S=p(U,Nt,w);const I=$(U.slice(w,S));H[M]=I}it=Nt+1}while(it<Z);return H}function g(U,q,H){do{const Z=U.charCodeAt(q);if(Z!==32&&Z!==9)return q}while(++q<H);return H}function p(U,q,H){for(;q>H;){const Z=U.charCodeAt(--q);if(Z!==32&&Z!==9)return q+1}return H}function v(U,q,H){const Z=(H==null?void 0:H.encode)||encodeURIComponent;if(!s.test(U))throw new TypeError(`argument name is invalid: ${U}`);const $=Z(q);if(!t.test($))throw new TypeError(`argument val is invalid: ${q}`);let it=U+"="+$;if(!H)return it;if(H.maxAge!==void 0){if(!Number.isInteger(H.maxAge))throw new TypeError(`option maxAge is invalid: ${H.maxAge}`);it+="; Max-Age="+H.maxAge}if(H.domain){if(!n.test(H.domain))throw new TypeError(`option domain is invalid: ${H.domain}`);it+="; Domain="+H.domain}if(H.path){if(!r.test(H.path))throw new TypeError(`option path is invalid: ${H.path}`);it+="; Path="+H.path}if(H.expires){if(!C(H.expires)||!Number.isFinite(H.expires.valueOf()))throw new TypeError(`option expires is invalid: ${H.expires}`);it+="; Expires="+H.expires.toUTCString()}if(H.httpOnly&&(it+="; HttpOnly"),H.secure&&(it+="; Secure"),H.partitioned&&(it+="; Partitioned"),H.priority)switch(typeof H.priority=="string"?H.priority.toLowerCase():void 0){case"low":it+="; Priority=Low";break;case"medium":it+="; Priority=Medium";break;case"high":it+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${H.priority}`)}if(H.sameSite)switch(typeof H.sameSite=="string"?H.sameSite.toLowerCase():H.sameSite){case!0:case"strict":it+="; SameSite=Strict";break;case"lax":it+="; SameSite=Lax";break;case"none":it+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${H.sameSite}`)}return it}function A(U){if(U.indexOf("%")===-1)return U;try{return decodeURIComponent(U)}catch{return U}}function C(U){return l.call(U)==="[object Date]"}return ll}var Tc=qC();function HC(){const s=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof s=="boolean"?s:typeof document=="object"&&typeof document.cookie=="string"}function jC(s){return typeof s=="string"?Tc.parse(s):typeof s=="object"&&s!==null?s:{}}function Td(s,t={}){const n=GC(s);if(!t.doNotParse)try{return JSON.parse(n)}catch{}return s}function GC(s){return s&&s[0]==="j"&&s[1]===":"?s.substr(2):s}class jm{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const l=this.cookies;this.cookies=Tc.parse(document.cookie),this._checkChanges(l)};const r=typeof document>"u"?"":document.cookie;this.cookies=jC(t||r),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=HC()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(r=>{t[r]!==this.cookies[r]&&this._emitChange({name:r,value:Td(this.cookies[r])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),Td(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let r in this.cookies)n[r]=Td(this.cookies[r],t);return n}set(t,n,r){r?r=Object.assign(Object.assign({},this.defaultSetOptions),r):r=this.defaultSetOptions;const l=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:l}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Tc.serialize(t,l,r)),this._emitChange({name:t,value:n,options:r})}remove(t,n){const r=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Tc.serialize(t,"",r)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}const FC=new jm,QC=({setIsAuth:s})=>{const t=async()=>{try{const n=await Tw(Hm,zC);FC.set("auth-token",n.user.refreshToken),s(!0)}catch(n){console.error(n)}};return Kt.jsxs("div",{className:"auth",children:[Kt.jsx("p",{children:" Sign In With Google To Continue "}),Kt.jsx("button",{onClick:t,children:" Sign In With Google "})]})},KC=new jm,Ov=({children:s,isAuth:t,setIsAuth:n,setIsInChat:r})=>{const l=async()=>{await ew(Hm),KC.remove("auth-token"),n(!1),r(!1)};return Kt.jsxs("div",{className:"App",children:[Kt.jsx("div",{className:"app-header",children:Kt.jsx("h1",{children:" Chat App "})}),Kt.jsx("div",{className:"app-container",children:s}),t&&Kt.jsx("div",{className:"sign-out",children:Kt.jsx("button",{onClick:l,children:" Sign Out"})})]})},YC=new jm;function XC(){const[s,t]=Is.useState(YC.get("auth-token")),[n,r]=Is.useState(null),[l,c]=Is.useState("");return s?Kt.jsx(Ov,{isAuth:s,setIsAuth:t,setIsInChat:r,children:n?Kt.jsx(BC,{room:l}):Kt.jsxs("div",{className:"room",children:[Kt.jsx("label",{children:" Type room name: "}),Kt.jsx("input",{onChange:d=>c(d.target.value)}),Kt.jsx("button",{onClick:()=>{r(!0)},children:"Enter Chat"})]})}):Kt.jsx(Ov,{isAuth:s,setIsAuth:t,setIsInChat:r,children:Kt.jsx(QC,{setIsAuth:t})})}NA.createRoot(document.getElementById("root")).render(Kt.jsx(Is.StrictMode,{children:Kt.jsx(XC,{})}));
